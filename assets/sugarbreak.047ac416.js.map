{"version":3,"file":"sugarbreak.047ac416.js","sources":["../../sugarbreak/BasicThreeDemo.js","../../sugarbreak/smoke2.png","../../sugarbreak/config.js","../../sugarbreak/ball3.png","../../sugarbreak/hit1.m4a?url","../../sugarbreak/hit2.m4a?url","../../sugarbreak/hit3.m4a?url","../../sugarbreak/hit4.m4a?url","../../sugarbreak/hit5.m4a?url","../../sugarbreak/gamestate.js","../../sugarbreak/events.js","../../sugarbreak/tap.mp3?url","../../sugarbreak/music.wav?url","../../sugarbreak/dark.mp3?url","../../sugarbreak/sounds.js","../../sugarbreak/utils.js","../../sugarbreak/Ball.js","../../sugarbreak/Modifiers.js","../../sugarbreak/brick.frag","../../sugarbreak/brick.vert","../../sugarbreak/ball1.png","../../sugarbreak/ball2.png","../../sugarbreak/Brick.js","../../sugarbreak/overlay.frag","../../sugarbreak/Overlay.js","../../sugarbreak/Padel.js","../../sugarbreak/smoke1.png","../../sugarbreak/Effects.js","../../plugin-vue:export-helper","../../sugarbreak/welcome.vue","../../sugarbreak/star.svg?url","../../sugarbreak/gameover.vue","../../sugarbreak/header1.svg","../../sugarbreak/gameui.vue","../../sugarbreak/main.js"],"sourcesContent":["import * as THREE from \"three\";\r\n\r\n// import * as Stats from \"stats.js\";\r\n// var stats = new Stats();\r\n// document.body.appendChild( stats.dom );\r\n// stats.showPanel(0);\r\n\r\nexport class BasicThreeDemo {\r\n    constructor(container) {\r\n      this.container = container;\r\n      this.renderer = new THREE.WebGLRenderer({\r\n        antialias: true\r\n      });\r\n      this.renderer.setSize(container.offsetWidth, container.offsetHeight, false);\r\n      //this.renderer.setPixelRatio(window.devicePixelRatio);\r\n  \r\n      container.append(this.renderer.domElement);\r\n  \r\n      \r\n      let width = container.offsetWidth;\r\n      let height = container.offsetHeight;\r\n      width = 100 * container.offsetWidth / container.offsetHeight;\r\n      height = 100 * container.offsetWidth / container.offsetHeight;\r\n\r\n      const aspectRatio = container.offsetWidth / container.offsetHeight;\r\n      const cameraWidth = 1000;\r\n      const cameraHeight = cameraWidth / aspectRatio;\r\n\r\n      this.camera = new THREE.OrthographicCamera(cameraWidth / - 2, cameraWidth / 2, cameraHeight / 2, cameraHeight / - 2, 0, 1000 );\r\n      // this.camera = new THREE.PerspectiveCamera(\r\n      //   75,\r\n      //   container.offsetWidth / container.offsetHeight,\r\n      //   10,\r\n      //   10000\r\n      // );\r\n      // this.camera.position.z = 1;\r\n      \r\n      \r\n\r\n      this.scene = new THREE.Scene();\r\n      this.scene.add(this.camera)\r\n      this.clock = new THREE.Clock();\r\n      this.assets = {};\r\n      this.disposed = false;\r\n      this.tick = this.tick.bind(this);\r\n      this.init = this.init.bind(this);\r\n    }\r\n    loadAssets() {\r\n      return new Promise((resolve, reject) => {\r\n        // const manager = new THREE.LoadingManager(resolve);\r\n        // this.text.load(manager);\r\n      });\r\n    }\r\n    init() {\r\n      this.tick();\r\n    }\r\n    getViewSizeAtDepth(depth = 0) {\r\n      const fovInRadians = (this.camera.fov * Math.PI) / 180;\r\n      const height = Math.abs(\r\n        (this.camera.position.z - depth) * Math.tan(fovInRadians / 2) * 2\r\n      );\r\n      return { width: height * this.camera.aspect, height };\r\n    }\r\n    dispose() {\r\n      this.disposed = true;\r\n    }\r\n    onResize() {}\r\n    update() {}\r\n    render() {\r\n      this.renderer.render(this.scene, this.camera);\r\n    }\r\n    tick() {\r\n      if (this.disposed) return;\r\n      // stats.begin()\r\n      if (resizeRendererToDisplaySize(this.renderer)) {\r\n        const canvas = this.renderer.domElement;\r\n        this.camera.aspect = canvas.clientWidth / canvas.clientHeight;\r\n        this.camera.updateProjectionMatrix();\r\n        this.onResize();\r\n      }\r\n      const delta = this.clock.getDelta();\r\n      this.render(delta);\r\n      this.update(delta);\r\n      // stats.end()\r\n      requestAnimationFrame(this.tick);\r\n    }\r\n  }\r\n  \r\n  function resizeRendererToDisplaySize(renderer) {\r\n    const canvas = renderer.domElement;\r\n    const width = canvas.clientWidth;\r\n    const height = canvas.clientHeight;\r\n    const needResize = canvas.width !== width || canvas.height !== height;\r\n    if (needResize) {\r\n      renderer.setSize(width, height, false);\r\n    }\r\n    return needResize;\r\n  }","export default \"data:image/png;base64,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\"","const aspectRatio = container.offsetWidth / container.offsetHeight;\r\nexport const worldWidth = 1000;\r\nexport const worldHeight = worldWidth / aspectRatio;\r\n","export default \"__VITE_ASSET__a882feb9__\"","export default \"__VITE_ASSET__edfa9731__\"","export default \"__VITE_ASSET__b10388c2__\"","export default \"__VITE_ASSET__401d0d66__\"","export default \"__VITE_ASSET__18e89af6__\"","export default \"__VITE_ASSET__3595b5da__\"","import { computed, reactive, ref, watch } from \"vue\";\r\n\r\nexport const score = ref(0);\r\nexport const playerName = ref(localStorage.getItem(\"playerName\") || \"\");\r\nexport const personal_highscore = ref(localStorage.getItem(\"personal_highscore\") || 0);\r\nexport const isPlaying = ref(false);\r\n\r\nexport const musicVolume = ref(localStorage.getItem(\"musicVolume\") || 30);\r\nexport const gameVolume = ref(localStorage.getItem(\"gameVolume\") || 70);\r\n\r\nexport const state = reactive({\r\n    bloodSugar: 0,\r\n    bloodSugarDate: new Date(),\r\n});\r\n\r\nexport const bloodSugarTime = computed(() => {\r\n  // return boodsugardate time in hours and minutes\r\n  const date = state.bloodSugarDate;\r\n\r\n  // format to local date with HH:mm\r\n  if(!date) return \"\";\r\n  const time = date.toLocaleTimeString(\"sv-SE\", {\r\n    hour: \"2-digit\",\r\n    minute: \"2-digit\",\r\n  });\r\n\r\n  return time;\r\n});\r\nexport const bloodSugarDayString = computed(() => {\r\n  // get name of day this.bloodSugarDate\r\n  const dayNames = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\r\n  let txt = dayNames[state.bloodSugarDate.getDay()];  \r\n  return txt;\r\n  });\r\n\r\npersist({ playerName, personal_highscore, musicVolume });\r\n\r\nexport function setScore(points) {\r\n  score.value = points;\r\n  if (points > personal_highscore.value) {\r\n    personal_highscore.value = points;\r\n  }\r\n}\r\n\r\nfunction persist(object) {\r\n  Object.entries(object).forEach((v) => {\r\n    watch(v[1], (value, oldValue) => {\r\n      localStorage.setItem(v[0], value);\r\n    });\r\n  });\r\n  // watch(ref, (value, oldValue) => {\r\n  //     localStorage.setItem(key, value);\r\n  // });\r\n}\r\n","export const dispatch = (eventName, detail) => {\r\n  var evt = new CustomEvent(eventName, { bubbles: true, detail: detail });\r\n  window.dispatchEvent(evt);\r\n};\r\nexport const on = (eventName, callback) => {\r\n  const listener = clean(callback);\r\n   \r\n  window.addEventListener(eventName, listener);\r\n\r\n  let res = {\r\n    listener,\r\n    off: () => { off(eventName, listener)  }\r\n  };\r\n\r\n\r\n  return res;\r\n};\r\nexport const off = (eventName, callback) => {\r\n  window.removeEventListener(eventName, callback);\r\n};\r\n\r\nconst clean = (callback) => {\r\n  return (e) => {  callback(e.detail); }\r\n};\r\n","export default \"__VITE_ASSET__a11eec6b__\"","export default \"__VITE_ASSET__8fa296fe__\"","export default \"__VITE_ASSET__a835debc__\"","import { Howl } from \"howler\";\r\n\r\nimport s1 from  \"./hit1.m4a?url\";\r\nimport s2 from  \"./hit2.m4a?url\";\r\nimport s3 from  \"./hit3.m4a?url\";\r\nimport s4 from  \"./hit4.m4a?url\";\r\nimport s5 from  \"./hit5.m4a?url\";\r\n\r\nexport let volume = .8;\r\nimport {musicVolume,gameVolume} from \"./gamestate.js\";\r\nimport {watch} from \"vue\";\r\nimport {on} from \"./events\";\r\n\r\nvar sounds = [\r\n  s1,\r\n  s2,\r\n  s3,\r\n  s4,\r\n  s5  \r\n];\r\n\r\nexport var howls = sounds.map(\r\n  (s) => new Howl({\r\n    src: s,\r\n    volume: volume,\r\n    sprite: {\r\n      __default: [100, 1000],\r\n    },\r\n  })\r\n);\r\n\r\n\r\nimport tap1 from  \"./tap.mp3?url\";\r\nexport const tap = new Howl({src: tap1, volume: volume});\r\n\r\n\r\nimport music1 from  \"./music.wav?url\";\r\nexport const music = new Howl({src: music1, loop: true, volume: musicVolume.value / 100});\r\n\r\nimport gsap from \"gsap\"\r\n\r\nimport music2url from \"./dark.mp3?url\";\r\nexport const music2 = new Howl({src: music2url, loop: true, volume: 0});\r\nmusic2.volume(0);\r\nmusic2.play();\r\n\r\n\r\nwatch(gameVolume, (value) => {\r\n    //music.volume(value / 100);\r\n    //music2.volume(value / 100);\r\n    Howler.volume(value / 100);\r\n\r\n});\r\n\r\nwatch(musicVolume, (newVal, oldVal) => {\r\n    music.volume(newVal / 100);    \r\n});\r\n\r\nexport const crossfade = (from, to, duration) => {\r\n  gsap.to(from, {volume: 0, duration});\r\n  gsap.to(to, {volume: musicVolume.value/100, duration});\r\n}\r\n\r\nlet currentMusic = music;\r\non(\"bloodsugar:change\", (e) => {\r\n  \r\n  if(e.to == \"low\") {\r\n    crossfade(currentMusic, music2, 2);\r\n    currentMusic = music2;\r\n  }\r\n  if(e.to == \"normal\") {\r\n    crossfade(currentMusic, music, 2);\r\n    currentMusic = music;\r\n  }\r\n\r\n\r\n});","export const pickRandom = (arr) => {\r\n    if (Array.isArray(arr)) return arr[Math.floor(Math.random() * arr.length)];\r\n    return arr;\r\n  };\r\n  \r\n\r\nexport const disposeObject = (obj) => {\r\n  if(!obj) return;\r\n  obj.removeFromParent();\r\n  obj.geometry.dispose();\r\n  obj.material.dispose();\r\n  obj.geometry = null;\r\n  obj.material = null;    \r\n  obj = null;\r\n  return null;\r\n}","import * as THREE from \"three\";\r\n\r\nconst loader = new THREE.TextureLoader();\r\n\r\nimport smokeUrl2 from \"./smoke2.png\";\r\nexport var smoke2 = loader.load(smokeUrl2);\r\n\r\nimport { worldWidth, worldHeight } from \"./config\";\r\nimport gsap from \"gsap\";\r\n\r\nimport ball3url from \"./ball3.png\";\r\nimport { Clock } from \"three\";\r\nimport { tap } from \"./sounds\";\r\nimport { disposeObject } from \"./utils\";\r\nexport const ball3 = loader.load(ball3url);\r\nball3.repeat.set(.6,.6);\r\n\r\nexport class Ball {\r\n  constructor(app) {\r\n    this.app = app;\r\n    this.vel = new THREE.Vector3(1, 1, 0);\r\n  }\r\n\r\n  revive() {\r\n    this.mesh.position.set(0, 60, -radius);\r\n    this.mesh.material.color.set(0xffffff);\r\n  }\r\n\r\n  dispose() {\r\n    this.mesh = disposeObject(this.mesh);\r\n    this.geometry = null;\r\n    this.material = null;\r\n\r\n    this.smoke2 = disposeObject(this.smoke2);\r\n  }\r\n\r\n  hitBrick(brick) {\r\n    this.mesh.material.color =\r\n      brick.mesh.material.uniforms.uColor.value.clone();\r\n    this.mesh.material.color.multiplyScalar(1);\r\n    this.app.effects.showHit(brick.mesh.position);\r\n    gsap.fromTo(this.mesh.scale, { x: .5 }, { x: 1, duration: 0.1 });\r\n \r\n  }\r\n\r\n  init() {\r\n    this.createdAt = Date.now();\r\n    this.radius = 10; //* window.devicePixelRatio ;\r\n    console.log(this.radius)\r\n    \r\n    this.geometry = new THREE.SphereGeometry(this.radius, 32, 32);\r\n    this.material = new THREE.MeshBasicMaterial({\r\n      side: THREE.DoubleSide,\r\n      map: ball3,\r\n      \r\n      depthTest: false,\r\n      depthWrite: false,\r\n      \r\n      transparent: true, \r\n\r\n      \r\n    });\r\n    var mesh = new THREE.Mesh(this.geometry, this.material);\r\n    //cube.position.z = 15;\r\n    mesh.position.y = 60;\r\n    mesh.position.x = 0;\r\n    mesh.position.z = 0;\r\n    \r\n    this.mesh = mesh;\r\n\r\n    // config\r\n    this.power = 10;\r\n    this.config = {\r\n      curve: 1,\r\n    };\r\n\r\n    const smokematerial2 = new THREE.SpriteMaterial({ map: smoke2 });\r\n    this.smoke2 = new THREE.Sprite(smokematerial2);\r\n    \r\n    this.app.scene.add(this.smoke2);\r\n    this.app.scene.add(mesh);\r\n  }\r\n\r\n  setCurve(pvelx) {\r\n    let curve = 1;\r\n    if (pvelx > 0 && this.vel.x > 0) {\r\n      curve = 2;\r\n    } else if\r\n    (pvelx < 0 && this.vel.x < 0) {\r\n      curve = 2;\r\n    }\r\n    curve = pvelx * 2 * ((Math.random() +1)/2);\r\n    //console.log(pvelx, curve)\r\n    // let fromcenter = padelx - ballx;\r\n    // console.log(padelx, ballx, padelx/ballx, fromcenter/200 );\r\n    // \r\n\r\n    // let min = 0.8;\r\n    // let max = 4;\r\n    // let capped = Math.min(max, Math.max(min, 1+Math.abs(fromcenter/200) * 3));\r\n    // console.warn(capped)\r\n    const tl = gsap.timeline()\r\n    tl\r\n    .to(this.config, {curve: curve, duration: .4})\r\n    .to(this.config, {curve: 1, delay: 1., duration: 1.})\r\n    ;\r\n  }\r\n\r\n  canDie() {\r\n    \r\n    // if this.createdAt is older than 3 seconds\r\n    let minimumAgeMs = 3000;\r\n    return Date.now() - this.createdAt > minimumAgeMs;\r\n  }\r\n\r\n  bounce() {\r\n  \r\n    this.bouncedAt = this.ticks;\r\n    const smokeOffset = Math.random() * 20;\r\n    this.smoke2.material.rotation = 10 * Math.random();\r\n    //this.smoke2.scale.set(40 - smokeOffset, 40 - smokeOffset, 1);\r\n    this.smoke2.position.copy(this.mesh.position);\r\n    this.smoke2.position.z = 5;\r\n\r\n    tap.play();\r\n\r\n    \r\n    gsap.fromTo(this.mesh.scale, { x: .2 }, { x: 1, duration: 0.1 });\r\n    var tl = gsap\r\n      .timeline()\r\n      .fromTo(this.smoke2.scale, {\r\n        x:0,\r\n        y: 0,\r\n        z:0\r\n      }, {\r\n        duration: 0.1,\r\n        x: 50 - smokeOffset,\r\n        y: 50 - smokeOffset,\r\n        z: 1,\r\n      })\r\n      .fromTo(this.smoke2.material,{opacity: 1}, {\r\n        duration: 0.2,\r\n        opacity: 0\r\n      },0);\r\n\r\n    // setTimeout(() => {\r\n    //   this.smoke2.scale.set(0);\r\n    // }, 100);\r\n  }\r\n  ticks = 0;\r\n  update(time) {\r\n    this.ticks++;\r\n    let speed = Math.min(3.0 + time * 0.04, 7);\r\n    if(this.app.modifiers.isBloodSugarLow()) {\r\n      speed = 3;\r\n    } else {\r\n      //speed = 6 - 10/this.app.modifiers.bloodSugar;\r\n    }\r\n\r\n    let vel = this.vel;\r\n    let wOffset = this.radius / 2;\r\n    let hOffset = this.radius / 2;\r\n    let xPos = this.mesh.position.x;\r\n    let yPos = this.mesh.position.y;\r\n    \r\n\r\n    // not sure why toolbaroffset is half/2\r\n    let toolbarOffset = 100 / 2;\r\n    \r\n    // bounce on edges\r\n    if (\r\n      xPos + wOffset >= worldWidth / 2 ||\r\n      this.mesh.position.x - wOffset <= -worldWidth / 2\r\n    ) {\r\n      // wall bounce\r\n      vel.reflect(new THREE.Vector3(1, 0, 0));\r\n      this.bounce();\r\n    } else if (yPos + toolbarOffset >= worldHeight / 2) {\r\n      // top bounce\r\n      vel.set(vel.x, -1, 0);\r\n      this.bounce();\r\n    } else if(yPos - hOffset <= -worldHeight/2) {\r\n      // bottom bounce\r\n      vel.set(vel.x,1,0);\r\n      this.config.curve = gsap.utils.random(0,4 )\r\n      \r\n    }\r\n\r\n    let movement = vel.clone().multiplyScalar(speed);\r\n    \r\n    // stop\r\n    if (xPos + wOffset > worldWidth / 2 || xPos - wOffset < -worldWidth / 2) {\r\n      //movement.set(0,0,0);\r\n    }\r\n\r\n    // blink when can't die\r\n    if (!this.canDie()) {\r\n      this.mesh.material.opacity = .1 + (Math.sin((time*15))+1)/2;\r\n    } else {\r\n      this.mesh.material.opacity = 1;\r\n    }\r\n\r\n    this.mesh.rotateZ(0.05);\r\n    movement.y -= this.config.curve;\r\n  \r\n    \r\n    this.mesh.position.add(movement);\r\n    \r\n    if((this.ticks % 2 == 0)){\r\n      this.app.effects.showClouds(1, this.mesh.position,50);    \r\n    }\r\n  }\r\n}\r\n","import gsap from \"gsap\";\r\nimport { dispatch } from \"./events\";\r\n\r\nimport { state } from \"./gamestate\";\r\n\r\nexport class Modifiers {\r\n  init() {\r\n    this.startDate = new Date();\r\n    this.dailyValues =  [];\r\n\r\n    let nd = new Date();\r\n    // set nd to beginning of day\r\n    nd.setHours(0,0,0,0);\r\n    let movingbs = 5;\r\n    new Array(600).fill(0).forEach((v, i) => {\r\n        // add 4 minutes to nd\r\n        // copy nd\r\n        nd.setMinutes(nd.getMinutes() + 4);\r\n        let d = new Date(nd);        \r\n        movingbs += gsap.utils.random(-1.2,1.2)\r\n        movingbs = Math.max(movingbs, 2.0);\r\n        this.dailyValues.push([d, movingbs ]);\r\n        //console.log(this.dailyValues[this.dailyValues.length - 1]);\r\n    });\r\n  }\r\n\r\n  isBloodSugarLow() {\r\n    if (this.bloodSugar <= 4) {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  isBloodSugarNormal() {\r\n    if (this.bloodSugar > 4 && this.bloodSugar < 10) {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  isBloodSugarHigh() {\r\n    if (this.bloodSugar >= 10) {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  getBloodSugar(time) {    \r\n    const speed = 3;\r\n    let index = Math.round(time * speed);\r\n    let lastEntry = this.dailyValues[this.dailyValues.length - 1];\r\n    const entry = this.dailyValues[index] || lastEntry;\r\n\r\n    // should maybe be in other function\r\n    state.bloodSugar = entry[1].toFixed(1);\r\n    \r\n    state.bloodSugarDate = entry[0];\r\n\r\n    return entry[1];\r\n  }\r\n\r\n\r\n\r\n  getBloodSugarString() {\r\n    if(this.isBloodSugarLow()) {\r\n      return \"low\";\r\n    }\r\n    if(this.isBloodSugarNormal()) {\r\n      return \"normal\";\r\n    }\r\n    if(this.isBloodSugarHigh()) {\r\n      return \"high\";\r\n    }\r\n  }\r\n\r\n  update(time) {\r\n    this.bloodSugar = this.getBloodSugar(time);\r\n    state.bloodSugar = this.bloodSugar.toFixed(1);\r\n    \r\n    const newbs = this.getBloodSugarString();\r\n    const oldValue = this.bloodSugarString;\r\n    if(newbs != oldValue) {\r\n      dispatch(\"bloodsugar:change\",{from: oldValue, to: newbs})      \r\n      this.bloodSugarString = newbs;\r\n    }\r\n  }\r\n}\r\n","export const shader = `\r\nuniform vec3 uColor;\r\nuniform float uAlpha;\r\nvarying vec3 vPositionW;\r\nvarying vec3 vNormalW;\r\nvarying vec3 normals;\r\nvarying vec2 vUv;\r\nvoid main() {\r\n\tvec3 color = vec3(1., 1., 1.);\r\n\tvec3 viewDirectionW = normalize(cameraPosition - vPositionW);\r\n\tfloat fresnelTerm = dot(viewDirectionW, vNormalW);\r\n\tfresnelTerm = clamp(fresnelTerm,0.9, 2.0);\r\n\r\n\tcolor = uColor;\r\n\t\r\n\r\n\t// borders\r\n\t\r\n\t// if(vUv.x > .95) {\r\n\t// \tcolor = vec3(1., 0., 0.);\r\n\t// }\r\n\r\n\t// float b = step(vUv.x, 0.95);\t\r\n\t// color *= b;\r\n\t// b = step(0.05, vUv.x);\r\n\t// color *= b;\r\n\r\n\t//color.r *= vUv.x ;\r\n\t//color.r *= vPositionW.x;\r\n\t//color.g *= vUv.y;\r\n\r\n    gl_FragColor = vec4(color, uAlpha);\r\n    //gl_FragColor = vec4(uColor, 1.0);\r\n}\r\n`;\r\n\r\n","export const shader = `\r\nvarying vec3 vPositionW;\r\nvarying vec3 vNormalW;\r\nvarying vec2 vUv;\r\n\r\nvoid main() {\r\n    vUv = uv;\r\n    vPositionW = vec3( vec4( position, 1.0 ) * modelMatrix);\r\n    vNormalW = normalize( vec3( vec4( normal, 0.0 ) * modelMatrix ) );\r\n    \r\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\r\n}\r\n`;","export default \"__VITE_ASSET__1a2ffa70__\"","export default \"__VITE_ASSET__466a70af__\"","import * as THREE from \"three\";\r\nimport { DoubleSide } from \"three\";\r\nimport { shader as brickfrag } from \"./brick.frag\";\r\nimport { shader as brickvert } from \"./brick.vert\";\r\nimport { worldWidth, worldHeight } from \"./config\";\r\n\r\nconst loader = new THREE.TextureLoader();\r\n\r\nimport url_ball1 from \"./ball1.png\";\r\nconst ball1 = loader.load(url_ball1);\r\nimport url_ball2 from \"./ball2.png\";\r\nconst ball2 = loader.load(url_ball2);\r\n\r\nimport { howls } from \"./sounds\";\r\nimport { pickRandom } from \"./utils\";\r\nimport { SpriteMaterial } from \"three\";\r\nimport { ShaderMaterial } from \"three\";\r\n\r\nimport gsap from \"gsap\";\r\nimport {disposeObject} from \"./utils\";\r\n\r\nconst colors = [\"\", \"#fbff80\", \"#cc6cf5\", \"#80c6ff\", \"orange\"];\r\n\r\nexport class Brick {\r\n  constructor(app, brickPoints, rows, columns, row, column) {\r\n    this.app = app;\r\n    this.brickPoints = brickPoints;\r\n    this.rows = rows;\r\n    this.columns = columns;\r\n    this.row = row;\r\n    this.column = column;\r\n  }\r\n\r\n  init() {\r\n    this.cstep = worldWidth / this.columns;\r\n    const rstep = (worldHeight / 2) * 3;\r\n    const xpadding = 10;\r\n    this.bheight = worldHeight * 0.05;\r\n    this.bwidth = worldWidth / this.columns - xpadding;\r\n    \r\n\r\n   \r\n    this.points = pickRandom(this.brickPoints);\r\n    this.life = this.points;\r\n    this.ability = this.getAbility();\r\n\r\n    this.reinit();\r\n\r\n\r\n    this.geometry = new THREE.BoxBufferGeometry(this.bwidth, this.bheight, 1);\r\n    this.material = new THREE.ShaderMaterial({\r\n      fragmentShader: brickfrag,\r\n      vertexShader: brickvert,\r\n      uniforms: {\r\n        uColor: new THREE.Uniform(new THREE.Color(this.config.color)),\r\n        uAlpha: new THREE.Uniform(1.0),\r\n        uTime: new THREE.Uniform(0.0),\r\n      },\r\n      transparent: true,\r\n      opacity: 1,\r\n      //wireframe: true\r\n    });\r\n    var mesh = new THREE.Mesh(this.geometry, this.material);\r\n    //cube.position.z = 15;\r\n    // depending on\r\n    \r\n    this.mesh = mesh;\r\n    this.group = new THREE.Group();\r\n    this.group.add(mesh);  \r\n    \r\n    this.setInitPos();\r\n    this.applyAbility();\r\n\r\n     \r\n\r\n\r\n    // console.log(mesh.position.y);\r\n    this.app.scene.add(this.group);\r\n  }\r\n\r\n  setInitPos() {\r\n    this.mesh.position.y = worldHeight / 2 - this.bheight / 2 - 50;\r\n    this.mesh.position.y -= this.bheight * (this.row + 1) + 10 * this.row;\r\n    this.mesh.position.x = -worldWidth / 2 + this.cstep * this.column;\r\n    if(this.meshEffect) {\r\n      this.meshEffect.position.copy(this.mesh.position);\r\n      this.meshEffect.position.z = 5;\r\n    }\r\n    gsap.from(this.group.position, {duration: 1,ease: \"elastic.out(1, 0.4)\", y: this.mesh.position.y + 300, delay: gsap.utils.random(0,1)});\r\n\r\n  }\r\n\r\n  dispose() {\r\n    this.mesh = disposeObject(this.mesh);\r\n    this.geometry = null;\r\n    this.material = null;\r\n\r\n    this.meshEffect = disposeObject(this.meshEffect);\r\n    this.group.removeFromParent();\r\n  \r\n  }\r\n\r\n  applyAbility() {\r\n    if (this.ability) {\r\n      let texture = \"\";\r\n      if(this.ability === \"bomb-column\") {\r\n        texture = ball1;\r\n      } else if(this.ability === \"extra-ball\") {\r\n        texture = ball2;\r\n      }\r\n      const effectMaterial = new THREE.SpriteMaterial({ map: texture  });\r\n      this.meshEffect = new THREE.Sprite(effectMaterial);\r\n      this.meshEffect.scale.set(40, 40, 10);\r\n      this.meshEffect.position.copy(this.mesh.position);\r\n      this.meshEffect.position.z = 5;\r\n      this.meshEffect.material.opacity = 1.0;\r\n      this.group.add(this.meshEffect);\r\n    } else if (this.meshEffect) {\r\n      this.group.remove(this.meshEffect);\r\n      this.meshEffect.material.dispose();\r\n      this.meshEffect.mater = null;\r\n      this.meshEffect.geometry.dispose();\r\n      this.meshEffect.geometry = null;\r\n      this.meshEffect = null;\r\n      \r\n    }\r\n  }\r\n\r\n  reinit() {\r\n    let color = colors[this.points];\r\n    this.config = {\r\n      opacity: 1,\r\n      color: color\r\n    };\r\n  }\r\n\r\n  hit(power = 1) {\r\n    this.life -= power;\r\n    this.mesh.rotateZ(Math.random() * 0.2);\r\n    pickRandom(howls).play();\r\n\r\n    // if not active anymore\r\n    if (this.isDead()) {\r\n      this.destroy();\r\n    }\r\n\r\n    const ability = this.ability;\r\n    this.looseAbility();\r\n    return {\r\n      points: this.getPoints(),\r\n      ability: ability,\r\n    };\r\n  }\r\n\r\n  looseAbility() {\r\n    this.ability = null;\r\n    this.applyAbility();\r\n  }\r\n\r\n  getPoints() {\r\n    if (this.isDead()) {\r\n      return this.points;\r\n    }\r\n  }\r\n\r\n  destroy() {\r\n    this.app.effects.showExplosions(1, this.mesh.position);\r\n    //.value = 0.0;\r\n\r\n    gsap.to(this.config, { duration: 0.5, opacity: 0 });\r\n    gsap.to(this.mesh.position, {y: -worldHeight/2, duration: .5}); \r\n    if(this.meshEffect) gsap.to(this.meshEffect.position, {y: 0, duration: .5});  }\r\n\r\n  isDead() {\r\n    return this.life < 1;\r\n  }\r\n\r\n  isActive() {\r\n    return this.life > 0;\r\n  }\r\n\r\n  allChildren(task) {\r\n    this.group.children.forEach((c) => {\r\n      if (c instanceof THREE.Object3D) {\r\n        task(c);\r\n      }\r\n    });\r\n  }\r\n\r\n  revive() {\r\n    //this.life = this.points;\r\n    this.config.opacity = 1;\r\n    this.mesh.material.uniforms.uAlpha.value = 1.0;\r\n    this.mesh.rotation.z = 0;\r\n    this.ability = this.getAbility();\r\n    this.applyAbility();\r\n    // this.allChildren((c) => (c.visible = true));\r\n    this.setInitPos();\r\n    setTimeout(() => {\r\n      this.life = this.points;\r\n    }, 1000);\r\n    \r\n    // if(this.effect) {\r\n    //   this.meshEffect.position.copy(this.mesh.position);\r\n    //   this.meshEffect.position.z = 5;\r\n    //   this.meshEffect.material.opacity = 1;\r\n    // } else {\r\n    //   this.meshEffect.material.opacity = 0;\r\n    // }\r\n  }\r\n\r\n  getAbility() {\r\n    if (Math.random() < 0.9) {\r\n      return null;\r\n    }\r\n\r\n    const effects = [\"bomb-column\", \"extra-ball\"]; //  \"bomb-row\", \"ball-fire\", \"ball-power2\"\r\n    let effect = pickRandom(effects);\r\n    return effect;\r\n  }\r\n\r\n  update(time) {\r\n    this.time = time;\r\n    this.mesh.material.uniforms.uTime.value = time;\r\n    this.mesh.material.uniforms.uAlpha.value = this.config.opacity;\r\n    this.allChildren((c) => {\r\n      if (c.material instanceof SpriteMaterial) {\r\n        c.material.opacity = this.config.opacity;\r\n      } else if (c.material instanceof ShaderMaterial) {\r\n        if (c.material.uniforms.uPacity)\r\n          c.material.uniforms.uOpacity.value = this.config.opacity;\r\n      }\r\n    });\r\n  }\r\n}\r\n","export const shader = `\r\nuniform vec3 uColor;\r\nuniform float uAlpha;\r\nuniform vec2 uResolution;\r\nuniform float uTime;\r\nvarying vec3 vPositionW;\r\nvarying vec3 vNormalW;\r\nvarying vec2 vUv;\r\n\r\nfloat dist(vec2 p0, vec2 pf){return sqrt((pf.x-p0.x)*(pf.x-p0.x)+(pf.y-p0.y)*(pf.y-p0.y));}\r\n\r\nvoid main() {\r\n\r\n    \r\n\t\t\tvec3 color = vec3(1., 1., 1.);\r\n\t\t\tvec3 viewDirectionW = normalize(cameraPosition - vPositionW);\r\n\t\t\tfloat fresnelTerm = .5 - dot(viewDirectionW, vNormalW);\r\n\t\t\tfresnelTerm = clamp(fresnelTerm,0.0, .9);\r\n\r\n\t\tvec2 sc = vPositionW.xy/uResolution;\r\n\t\tfloat c = clamp(sc.x, .9, 1.);\r\n\t\tfloat a = c;\r\n\t\tfloat circle = dist(uResolution*0.5, vPositionW.xy) * 0.0011 + sin(uTime) * 0.1;\r\n\t\tfloat offset = .14 + sin(uTime * 2.) * 0.1;\r\n        gl_FragColor = vec4( uColor, (circle - offset) * uAlpha);\r\n    \r\n\t\r\n\r\n    //gl_FragColor = vec4(uColor, 1.0);\r\n}\r\n`;","import * as THREE from \"three\";\r\nimport gsap from \"gsap\";\r\nimport { shader as overlayfrag } from \"./overlay.frag\";\r\n\r\nimport { worldWidth, worldHeight } from \"./config\";\r\nimport { disposeObject } from \"./utils\";\r\n\r\nexport class Overlay {\r\n  constructor(app) {\r\n    this.app = app;\r\n  }\r\n\r\n  dispose() {\r\n    disposeObject(this.mesh);\r\n  }\r\n\r\n  init() {\r\n    var geometry = new THREE.PlaneGeometry(worldWidth, worldHeight);\r\n    // const texture = loader.load(textureUrl)\r\n    const brickvert = [\r\n      \"varying vec3 vPositionW;\",\r\n      \"varying vec3 vNormalW;varying vec2 vUv;\",\r\n\r\n      \"void main() {\",\r\n      \" vUv = uv;\",\r\n      \"\tvPositionW = vec3( vec4( position, 1.0 ) * modelMatrix);\",\r\n      \" vNormalW = normalize( vec3( vec4( normal, 0.0 ) * modelMatrix ) );\",\r\n\r\n      \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\r\n\r\n      \"}\",\r\n    ].join(\"\\n\");\r\n    var material = new THREE.ShaderMaterial({      \r\n      fragmentShader: overlayfrag,\r\n      vertexShader: brickvert,\r\n      transparent: true,\r\n      uniforms: {\r\n        uReslution: new THREE.Uniform(new THREE.Vector2(worldWidth, worldHeight)),\r\n        uColor: new THREE.Uniform(new THREE.Color(\"#000000\")),\r\n        uAlpha: new THREE.Uniform(0.0),\r\n        uTime: new THREE.Uniform(0),\r\n      },\r\n    });\r\n\r\n    this.mesh = new THREE.Mesh(geometry, material);\r\n    // Put close to camera\r\n    this.mesh.position.z = 10;\r\n    this.app.scene.add(this.mesh);\r\n    this.isShown = false;\r\n  }\r\n\r\n  show() {\r\n    if (!this.isShown) {\r\n      this.isShown = true;\r\n      gsap.to(this.mesh.material.uniforms.uAlpha, { duration: 0.5, value: .7 });\r\n    }\r\n\r\n  }\r\n\r\n  hide() {\r\n    if (this.isShown) {\r\n      gsap.to(this.mesh.material.uniforms.uAlpha, {duration: 0.5, value: 0.0})  \r\n      this.isShown = false;\r\n    }\r\n  }\r\n\r\n  update(time) {\r\n    this.mesh.material.uniforms.uTime.value = time;\r\n  }\r\n}\r\n","import * as THREE from \"three\";\r\nimport { worldWidth, worldHeight } from \"./config\";\r\nimport gsap from \"gsap\";\r\nimport { disposeObject } from \"./utils\";\r\nimport { state } from \"./gamestate\";\r\n// import {physics} from \"popmotion\";\r\n  \r\n\r\nexport class Padel {\r\n  constructor(app) {\r\n    this.app = app;\r\n    this.vel = new THREE.Vector3(0, 0, 0);\r\n  }\r\n\r\n  dispose() {\r\n    disposeObject(this.mesh)\r\n  }\r\n\r\n  init() {\r\n    const padelHeight = 5;\r\n    var geometry = new THREE.BoxGeometry(200, 50, 10);\r\n    var material = new THREE.MeshBasicMaterial({\r\n      color: new THREE.Color(\"#56cc7d\"),\r\n    });\r\n    var mesh = new THREE.Mesh(geometry, material);\r\n    //cube.position.z = 15;\r\n    mesh.position.y = -worldHeight / 2 + padelHeight / 2;\r\n    mesh.position.x = 0;\r\n    this.mesh = mesh;\r\n\r\n    this.app.scene.add(mesh);\r\n\r\n    // listen on arrow left and right\r\n    let pressed = [];\r\n    const updateDirection = () => {\r\n      const key = pressed[0];\r\n      if (key == \"ArrowLeft\") {\r\n        this.vel.x = -1;\r\n      } else if (key == \"ArrowRight\") {\r\n        this.vel.x = 1;\r\n      } else {\r\n        this.vel.x = 0;\r\n      }\r\n    };\r\n    window.addEventListener(\"keydown\", (e) => {\r\n      pressed.unshift(e.key);\r\n      updateDirection();\r\n    });\r\n\r\n    window.addEventListener(\"touchmove\", (e) => {\r\n      //console.log(e);\r\n      var currentX = e.touches[0].clientX;\r\n      console.log(currentX);\r\n      //this.mesh.position.x = Math.min(currentX - window.innerWidth / 2, window.innerWidth / 2);\r\n    });\r\n\r\n    // stop when key is released\r\n    window.addEventListener(\"keyup\", (e) => {\r\n      pressed = pressed.filter((key) => key !== e.key);\r\n      updateDirection();\r\n    });\r\n  }\r\n\r\n  hit() {\r\n    //sound.play();\r\n    this.mesh.material.color.set(new THREE.Color(\"lightBlue\"));\r\n      \r\n    \r\n    //this.mesh.scale.x = 1.4;\r\n    const tl = gsap.timeline();\r\n    tl.to(this.mesh.scale, { duration: 0.05, y: .3, ease: \"expo.out\", yoyo: true, repeat: 1 });\r\n    gsap.fromTo(this.mesh.scale, { x: .5 }, { x: 1, duration: 0.3 });\r\n\r\n    // tl.to(this.mesh.scale, { duration: 0.05, y: 1.0, ease: \"elastic.out(1, 0.3)\" });\r\n    // setTimeout(() => {\r\n    //   this.mesh.material.color.set(new THREE.Color(\"#56cc7d\"));\r\n    //   //this.mesh.scale.x = 1.0;\r\n    //   this.mesh.scale.y = 1;\r\n    // }, 100);\r\n  }\r\n\r\n  update(time, isbslow) {\r\n    let speed = Math.max(6, state.bloodSugar);\r\n    let vel = this.vel;\r\n    let wOffset = 200 / 2;\r\n    let xPos = this.mesh.position.x;\r\n\r\n    if (isbslow) {\r\n      this.mesh.scale.x = .6;\r\n      this.mesh.material.color = new THREE.Color(\"#ff0000\");\r\n    } else {\r\n      this.mesh.scale.x = 1;\r\n      this.mesh.material.color = new THREE.Color(\"#56cc7d\");\r\n    }\r\n\r\n\r\n    // bounce\r\n    // if(xPos + wOffset > worldWidth/2 || this.cube.position.x - wOffset < -worldWidth/2) {\r\n    //   vel.negate();\r\n    // }\r\n    let movement = vel.clone().multiplyScalar(speed);\r\n    // stop\r\n    if (xPos + wOffset > worldWidth / 2 || xPos - wOffset < -worldWidth / 2) {\r\n      //movement.set(0,0,0);\r\n    }\r\n\r\n    this.mesh.position\r\n      .add(movement)\r\n      .clamp(\r\n        new THREE.Vector3(-worldWidth / 2 + wOffset, -worldHeight),\r\n        new THREE.Vector3(worldWidth / 2 - wOffset, worldHeight)\r\n      );\r\n  }\r\n}\r\n","export default \"data:image/png;base64,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\"","import * as THREE from \"three\";\r\nimport gsap from \"gsap\";\r\n\r\n// smoke\r\nconst loader = new THREE.TextureLoader();\r\n\r\nimport smokeUrl from \"./smoke1.png\";\r\nconst smoke1 = loader.load(smokeUrl);\r\n\r\nimport smoke2url from \"./smoke2.png\";\r\nconst smoke2 = loader.load(smoke2url);\r\n\r\nexport class Effects {\r\n  explosions = [];\r\n  clouds = [];\r\n  lastExplosion = 0;\r\n  lastCloud = 0;\r\n\r\n  init(app) {\r\n    this.app = app;\r\n    console.warn(\"hello from effects\")\r\n    this.setupExplosions();\r\n\r\n    this.setupClouds();\r\n  }\r\n\r\n  showClouds(amount, position, size, color) {\r\n    color = color || THREE.Color.white;\r\n\r\n    for (let i = 0; i < amount; i++) {\r\n      const expIndex = this.lastCloud++ % this.clouds.length;\r\n      \r\n      const cloud = this.clouds[expIndex];\r\n      cloud.position.copy(position);\r\n      // use color\r\n      cloud.material.color.set(color);\r\n      size = size || 40;\r\n\r\n      size += (size / 2) * Math.random();\r\n      \r\n      gsap.fromTo(cloud.material, {opacity: 1}, { duration: 0.7, opacity: 0 });\r\n      gsap.to(cloud.material, { duration: 1., rotation: Math.PI * Math.random() * Math.PI });\r\n      gsap.fromTo(cloud.scale, {x: 0, y: 0}, { duration: 1.0, x: size, y: size});\r\n    }\r\n  }\r\n\r\n  setupClouds(){\r\n    this.clouds = [];\r\n    const amount = 50;\r\n    let texture = smoke2;\r\n    const material = new THREE.SpriteMaterial({ map: texture});\r\n    for (let i = 0; i < amount; i++) {\r\n      const sprite = new THREE.Sprite(material.clone());\r\n      sprite.scale.set(0, 0, 0);      \r\n      sprite.opacity = 0;\r\n      this.clouds.push(sprite);\r\n      this.app.scene.add(sprite);\r\n    }\r\n  }\r\n\r\n  setupExplosions() {\r\n    this.explosions = [];\r\n    const amountOfExplosions = 15;\r\n    let texture = smoke1;\r\n    const material = new THREE.SpriteMaterial({ map: texture});\r\n    for (let i = 0; i < amountOfExplosions; i++) {\r\n      const sprite = new THREE.Sprite(material.clone());\r\n      sprite.scale.set(0, 0, 0);      \r\n      sprite.opacity = 0;\r\n      this.explosions.push(sprite);\r\n      this.app.scene.add(sprite);\r\n    }\r\n  }\r\n\r\n  showHit(position) {\r\n    let pos = position.clone();\r\n    pos.z = 1;\r\n    this.showExplosions(1, pos, 40, THREE.Color.red);\r\n  }\r\n\r\n  showExplosions(amount, position, size, color) {\r\n    color = color || THREE.Color.white;\r\n    for (let i = 0; i < amount; i++) {\r\n      const expIndex = this.lastExplosion++ % this.explosions.length;\r\n      \r\n      const explosion = this.explosions[expIndex];\r\n      explosion.position.copy(position);\r\n      // use color\r\n      explosion.material.color.set(color);\r\n      size = size || 40;\r\n\r\n      size += (size / 2) * Math.random();\r\n      \r\n      gsap.fromTo(explosion.material, {opacity: 1}, { duration: 0.7, opacity: 0 });\r\n      gsap.to(explosion.material, { duration: 1., rotation: Math.PI * Math.random() * Math.PI });\r\n      gsap.fromTo(explosion.scale, {x: 0, y: 0}, { duration: 1.0, x: size, y: size});\r\n    }\r\n  }\r\n}","\nexport default (sfc, props) => {\n  const target = sfc.__vccOpts || sfc;\n  for (const [key, val] of props) {\n    target[key] = val;\n  }\n  return target;\n}\n","<script setup>\r\nimport { ref } from \"vue\";\r\nimport { dispatch } from \"./events\";\r\nimport { playerName } from \"./gamestate\";\r\n\r\nfunction start() {\r\n console.log(\"start game\");\r\n dispatch(\"game:start\")\r\n}\r\n\r\n</script>\r\n\r\n<template>\r\n  <div class=\"welcome-wrapper\" >\r\n  <h2>Sugar break!</h2>\r\n  <p>Your goal: Get as many points as possible.</p>\r\n  <p>The game changes with the glucose and insulin levels of Anders. The data is fetched automatically from his insulin pump</p>\r\n  <p class=\"small\"></p>\r\n\r\n  <label for=\"\">Enter your name:</label>\r\n  <input class=\"input text\" v-model=\"playerName\" type=\"text\" placeholder=\"Enter your name\" />\r\n  \r\n  <button class=\"block\" @click=\"start\">Press space to start</button>\r\n  \r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n\r\n\r\n.input.text {\r\n  font-size: 1rem;\r\n  margin-left: 15px;\r\n  padding: 2px;\r\n  border-radius: 5px;\r\n  font-family: 'Lilita One';\r\n  background-color: rgb(253, 207, 0);\r\n}\r\n\r\n\r\n</style>","export default \"__VITE_ASSET__d11f39db__\"","<script setup>\r\nimport { score, bloodSugarTime } from \"./gamestate\"\r\nimport { dispatch } from \"./events\";\r\nimport starurl from \"./star.svg?url\";\r\nimport gsap from \"gsap\";\r\n\r\n\r\nfunction restart() {\r\n  dispatch(\"game:start\")\r\n}\r\n\r\n\r\n\r\nlet stars = 3;\r\nstars += gsap.utils.random(-1,1,1);\r\nconst emptystars = 5 - stars;\r\n\r\n\r\nconst cssVars = {\r\n  \"--starUrl\": \"url('\" + starurl + \"')\"\r\n};\r\n</script>\r\n\r\n<template>\r\n  <h2>You died!</h2>\r\n  <p class=\"center\">Did the bloodsugar get the best of you?</p>\r\n\r\n \r\n\r\n  <div class=\"center small\">\r\n    <strong>\r\n      Score:\r\n      <span class=\"score\">{{ score }}</span>.\r\n    </strong>\r\n    <span>You made it until {{bloodSugarTime}}, make it until midnight to win</span>    \r\n  </div>\r\n   <div class=\"center mt-2\">\r\n    <img v-for=\"n in stars\" :src=\"starurl\" width=\"40\" />\r\n    <img v-for=\"n in emptystars\" width=\"40\" :src=\"starurl\" class=\"empty\" :style=\"cssVars\" />\r\n  </div>\r\n  <button class=\"block game_start\" @click=\"restart\">Press space to try again</button>\r\n</template>\r\n\r\n<style scoped>\r\nbutton {\r\n  font-weight: bold;\r\n}\r\n\r\n\r\n.empty {\r\n    filter: grayscale(100%);  \r\n}\r\n</style>","export default \"__VITE_ASSET__765088a2__\"","\r\n\r\n<script setup>\r\nimport { ref, watch, onMounted, shallowRef } from \"vue\";\r\nimport gsap from \"gsap\";\r\nimport welcome from \"./welcome.vue\";\r\nimport gameover from \"./gameover.vue\"\r\nimport { on } from \"./events\";\r\nimport header1 from \"./header1.svg\";\r\n\r\nimport { isPlaying, score, personal_highscore, musicVolume, gameVolume, state, bloodSugarTime, bloodSugarDayString } from \"./gamestate.js\";\r\n\r\nconst current = shallowRef(welcome);\r\n\r\non([\"game:over\"], () => {\r\n    current.value = gameover;\r\n    isPlaying.value = false;\r\n});\r\n\r\n\r\nlet tw;\r\nwatch(score, (newValue, oldValue) => {\r\n    if (!tw) return;\r\n    if (!tw.isActive()) {\r\n        tw.restart(false);\r\n    } else {\r\n        console.log(\"active\");\r\n    }\r\n});\r\n\r\nonMounted(() => {\r\n    tw = gsap.fromTo(\".score .value\", { scale: 1 }, {\r\n        duration: .1,\r\n        repeatRefresh: true,\r\n        color: \"#f5d057\",\r\n        y: \"random(5,35)\",\r\n        x: \"random(-15,15)\",\r\n        rotation: \"random(-20,20)\",\r\n        scale: \"random(1,2.5)\", ease: \"power2.inOut\", yoyo: true, repeat: 1\r\n    });\r\n});\r\n\r\n\r\n\r\n</script>\r\n\r\n<template>\r\n    <div v-if=\"!isPlaying\" class=\"popup-container\">\r\n        <div class=\"popup\" :style=\"{ backgroundImage: `url(${header1})` }\">\r\n            <component :is=\"current\"></component>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"toolbar\">\r\n        <div class=\"grid-leftleft\"></div>\r\n        <div class=\"grid-rightright\"></div>\r\n        <div class=\"grid-left\">\r\n            <div class=\"number-container score\">\r\n                <div class=\"label\">Score</div>\r\n                <div class=\"value\">{{ score }}</div>\r\n            </div>\r\n            <div class=\"number-container\">\r\n                <div class=\"label\">Highscore</div>\r\n                <div class=\"value\">{{ personal_highscore }}</div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"grid-center\">\r\n        \r\n  <div id=\"bs\">\r\n    <span class=\"label\">Blood sugar</span>\r\n    <span class=\"text\">{{state.bloodSugar}}</span>\r\n    <span class=\"time\">{{bloodSugarTime}}</span>\r\n  </div>\r\n        </div>\r\n\r\n\r\n        <div class=\"grid-right\">\r\n            <div class=\"volume\">\r\n                <div class=\"label\">Music volume</div>\r\n                <div class=\"value\">\r\n                    <input type=\"range\" min=\"0\" max=\"100\" v-model=\"musicVolume\" />\r\n                </div>\r\n            </div>\r\n            <div class=\"volume\">\r\n                <div class=\"label\">Game volume</div>\r\n                <div class=\"value\">\r\n                    <input type=\"range\" min=\"0\" max=\"100\" v-model=\"gameVolume\" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<style scoped>\r\nbutton {\r\n    font-weight: bold;\r\n}\r\n.popup {\r\n    box-shadow: 0 0 50px rgb(44, 44, 44);\r\n    background-color: rgb(255, 255, 255);\r\n    padding: 20px;\r\n    border-radius: 20px;\r\n    background-repeat: no-repeat;\r\n    background-size: 101%;\r\n}\r\n\r\n.toolbar > div {\r\n    margin: 10px 20px;\r\n    align-items: center;\r\n}\r\n\r\n.time {\r\n    background: black;\r\n    border-radius: 6px;\r\n    width: 70px;\r\n    margin: 0 auto;\r\n}\r\n</style>","import \"./style.css\";\r\n\r\nimport * as THREE from \"three\";\r\n//import { OrbitControls } from \"three/examples/jsm/controls/OrbitControls\";\r\n\r\nimport { BasicThreeDemo } from \"./BasicThreeDemo\";\r\nimport { Vector3 } from \"three\";\r\n\r\nimport { Ball } from \"./Ball\";\r\nimport { Modifiers } from \"./Modifiers\";\r\nimport { Brick } from \"./Brick\";\r\nimport { Overlay } from \"./Overlay\";\r\nimport { Padel } from \"./Padel\";\r\n\r\nimport { worldWidth, worldHeight } from \"./config\";\r\nimport { howls, music } from \"./sounds\";\r\nimport { Effects } from \"./Effects\";\r\nimport gsap from \"gsap\";\r\nimport {createApp} from \"vue\";\r\nimport GameUI from \"./gameui.vue\";\r\nimport { dispatch, on } from \"./events\";\r\nimport { isPlaying, score, setScore } from \"./gamestate\";\r\n\r\nexport class App extends BasicThreeDemo {\r\n  constructor(inoptions) {\r\n    const options = {\r\n      container: document.getElementById(\"container\"),\r\n    };\r\n    super(options.container);\r\n    this.options = options;\r\n\r\n    \r\n    this.initVue();\r\n    // const axesHelper = new THREE.AxesHelper(5);\r\n    // this.scene.add(axesHelper);\r\n  }\r\n\r\n  initVue() {\r\n    const app = createApp(GameUI);\r\n    app.mount(\"#app\");\r\n  }\r\n\r\n  initFirstOnly() {\r\n    // if spacebar is pushed, start the game\r\n\r\n    music.play();\r\n    this.running = false;\r\n    document.addEventListener(\"keydown\", (e) => {\r\n      if (e.keyCode == 32) {\r\n        isPlaying.value = true;\r\n        this.reset();\r\n        this.init();\r\n      }\r\n    });\r\n\r\n    on(\"game:start\", () => {\r\n      isPlaying.value = true;\r\n      this.reset();\r\n      this.init();\r\n    })\r\n  }\r\n\r\n  \r\n\r\n  init(first) {\r\n    this.running = true;\r\n    if (first) this.initFirstOnly();\r\n\r\n\r\n    this.points = 0;\r\n    \r\n    this.camera.position.z = 10;\r\n    this.camera.position.y = 0;\r\n    this.camera.rotation.z = 0;\r\n\r\n    this.balls = [];\r\n    this.bricks = [];\r\n    this.intervals = [];\r\n\r\n    // effects\r\n    if (first) {\r\n      const effects = new Effects();\r\n      this.effects = effects;\r\n      effects.init(this);\r\n\r\n      // modifiers\r\n      this.modifiers = new Modifiers();\r\n      this.modifiers.init();\r\n      this.ui = {\r\n        bs: document.getElementById(\"bs\"),\r\n        bstext: document.querySelector(\"#bs .text\"),\r\n        gameover: document.querySelector(\"#game_over\"),\r\n        popups: document.querySelectorAll(\".popup div\"),\r\n      };\r\n    }\r\n\r\n    let padel = new Padel(this);\r\n    padel.init();\r\n    this.padel = padel;\r\n\r\n    if (!first) {\r\n      const startball = new Ball(this);\r\n      startball.init();\r\n      this.balls = [startball];\r\n    }\r\n\r\n    // new overlay\r\n    this.overlay = new Overlay(this);\r\n    this.overlay.init();\r\n\r\n    this.bricks = [];\r\n\r\n    this.hits = 0;\r\n    this.hits_last = 0;\r\n    this.hits_rate = 0;\r\n\r\n    const rows = 7;\r\n    const columns = 20;\r\n\r\n    const brickPoints = [1, 1, 1, 1, 2, 2, 2, 3, 3, 4, 4];\r\n\r\n    for (let row = 0; row < rows; row++) {\r\n      for (let column = 0; column < columns; column++) {\r\n        const brick = new Brick(this, brickPoints, rows, columns, row, column);\r\n        brick.init();\r\n        this.bricks.push(brick);\r\n      }\r\n    }\r\n\r\n    this.scene.background = new THREE.Color(\"pink\");\r\n    this.updateScores();\r\n\r\n    if (first) this.tick();\r\n  }\r\n\r\n  updateScores() {\r\n    setScore(this.points);    \r\n  }\r\n\r\n  hitsFloor(ball) {\r\n    return ball.mesh.position.y < -worldHeight / 2 + 10;\r\n  }\r\n\r\n  updateBs(time, isbslow) {\r\n    // every 2 second\r\n\r\n    if (isbslow) {\r\n      this.overlay.show();\r\n      //howls.forEach((s) => s.rate(0.7));\r\n      this.ui.bs.classList.add(\"low\");\r\n    } else {\r\n      this.overlay.hide();\r\n      //howls.forEach((s) => s.rate(1.0));\r\n      this.ui.bs.classList.remove(\"low\");\r\n    }\r\n\r\n    const bsnormal = this.modifiers.isBloodSugarNormal();\r\n    if (bsnormal) {\r\n      this.ui.bs.classList.add(\"normal\");\r\n    } else {\r\n      this.ui.bs.classList.remove(\"normal\");\r\n    }\r\n\r\n    const bshigh = this.modifiers.isBloodSugarHigh();\r\n    if (bshigh) {\r\n      this.ui.bs.classList.add(\"high\");\r\n    } else {\r\n      this.ui.bs.classList.remove(\"high\");\r\n    }\r\n  }\r\n\r\n  hitBrick(brick, power, newBalls) {\r\n    var result = brick.hit(power);\r\n\r\n    // need a better way to apply this\r\n    if (result?.ability == \"bomb-column\") {\r\n      this.bricks.forEach((b) => {\r\n        if (b.column == brick.column) {\r\n          // we need to handle this result\r\n          const bombpower = 10;\r\n          this.hitBrick(b, bombpower, newBalls);\r\n        }\r\n      });\r\n    } else if (result?.ability == \"extra-ball\") {\r\n      const newBall = new Ball(this);\r\n      newBall.init();\r\n      newBalls.push(newBall);\r\n    }\r\n\r\n    if (result?.points > 0) {\r\n      this.hits++;\r\n\r\n      this.intervals.push(\r\n        setTimeout(() => {\r\n          if (brick) brick.revive();\r\n        }, 30000)\r\n      );\r\n      this.points += result.points;\r\n      this.shake2 = true;\r\n\r\n      gsap.fromTo(this, { shake2: true }, { shake2: false, duration: 0.2 });\r\n    }\r\n    this.updateScores();\r\n  }\r\n\r\n  ballUpdate(ball, time, newBalls) {\r\n    ball.update(time);\r\n    if (this.hitsFloor(ball) && ball.canDie() ) {\r\n      // remove?\r\n      console.log(\"dead\");\r\n      ball.dispose();\r\n      return false;\r\n    }\r\n\r\n    // BOUNCE ON PADEL\r\n    if (this.isBallAlignedWithPaddle(ball) && ball.vel.y < 0) {\r\n      ball.setCurve(this.padel.vel.x);\r\n\r\n      if (this.padel.vel.x < 0 && ball.vel.x > 0) {\r\n        ball.vel.negate();\r\n      } else if (this.padel.vel.x > 0 && ball.vel.x < 0) {\r\n        ball.vel.negate();\r\n      } else {\r\n        ball.vel.reflect(new Vector3(0, 1, 0));\r\n      }\r\n\r\n      this.padel.hit();\r\n      ball.bounce();\r\n\r\n      // //this.shake = true;\r\n      // setTimeout(() => {\r\n      //   this.shake = false;\r\n      // }, 500);\r\n    }\r\n\r\n    // HIT BRICK\r\n    let brick = this.isBallAlignedWithBrick(ball);\r\n    if (brick) {\r\n      ball.hitBrick(brick);\r\n      ball.vel.reflect(new Vector3(0, 1, 0));\r\n      this.hitBrick(brick, ball.power, newBalls);\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  update(delta) {\r\n    if(!this.running) return;\r\n    let time = this.clock.elapsedTime;\r\n    this.modifiers.update(time);\r\n\r\n    const isbslow = this.modifiers.isBloodSugarLow();\r\n\r\n    this.updateBs(time, isbslow);\r\n    this.overlay.update(time);\r\n\r\n    // every 2 second\r\n    if (time % 2 === 0) {\r\n      this.hits_rate = Math.max(1, this.hits - this.hits_last);\r\n    }\r\n\r\n    this.padel.update(time, isbslow);\r\n\r\n    let newBalls = [];\r\n    this.balls = this.balls.filter((ball) => {\r\n      return this.ballUpdate(ball, time, newBalls);\r\n    });\r\n\r\n    // add newBalls to this.balls\r\n    this.balls = this.balls.concat(newBalls);\r\n\r\n    if (this.balls.length == 0) {\r\n      // DIE AND RESET GAME\r\n      this.die();\r\n    }\r\n\r\n    this.bricks.forEach((b) => {\r\n      b.update(time);\r\n    });\r\n\r\n    //this.camera.rotateOnAxis(new THREE.Vector3(0, 1, 0), 0.00001);\r\n    //this.camera.rotateZ(.001);\r\n\r\n    if (this.shake) {\r\n      this.camera.rotation.z = Math.sin(time * 100) * 0.02;\r\n    } else if (this.shake2) {\r\n      this.camera.rotation.z = Math.sin(time * 100) * 0.005;\r\n    } else {\r\n      this.camera.rotation.z = 0;\r\n    }\r\n\r\n    // console.log(this.isBallAlignedWithPaddle());\r\n  }\r\n\r\n  reset() {\r\n    this.clock = new THREE.Clock();\r\n    this.intervals.forEach((i) => clearInterval(i));\r\n\r\n    this.balls.forEach((x) => x.dispose());\r\n    this.balls = [];\r\n    this.bricks.forEach((x) => x.dispose());\r\n    this.bricks = [];\r\n\r\n    this.overlay = this.overlay.dispose();\r\n    this.padel = this.padel.dispose();\r\n\r\n    this.renderer.renderLists.dispose();\r\n    this.renderer.dispose();\r\n\r\n    // modifiers and effects?\r\n  }\r\n\r\n  die() {\r\n    const myPoints = this.points;    \r\n\r\n    this.clock.stop();\r\n\r\n    // show ui\r\n    dispatch(\"game:over\", { points: myPoints });\r\n    this.updateScores();    \r\n  }\r\n\r\n  isBallAlignedWithBrick = (ball) => {\r\n    const ballX = ball.mesh.position.x;\r\n    const ballY = ball.mesh.position.y;\r\n\r\n    return this.bricks\r\n      .filter((b) => b.isActive())\r\n      .find((brick) => {\r\n        const paddleX = brick.mesh.position.x;\r\n        const halfPaddleWidth = brick.mesh.geometry.parameters.width / 2;\r\n\r\n        const paddleY = brick.mesh.position.y;\r\n        const halfPaddleHeight = brick.mesh.geometry.parameters.height / 2;\r\n\r\n        const isXAligned = ballX > paddleX - halfPaddleWidth && ballX < paddleX + halfPaddleWidth;\r\n        const isYAligned = ballY < paddleY + halfPaddleHeight && ballY > paddleY - halfPaddleHeight;\r\n\r\n        if (isXAligned && isYAligned) {\r\n          return brick;\r\n        }\r\n\r\n        return false;\r\n      });\r\n  };\r\n  isBallAlignedWithPaddle(ball) {\r\n    const ballX = ball.mesh.position.x;\r\n    const paddleX = this.padel.mesh.position.x;\r\n    const halfPaddleWidth = this.padel.mesh.geometry.parameters.width / 2;\r\n\r\n    const ballY = ball.mesh.position.y;\r\n    const paddleY = this.padel.mesh.position.y;\r\n    const halfPaddleHeight = this.padel.mesh.geometry.parameters.height / 2;\r\n\r\n    const bonusZone = this.padel.mesh.geometry.parameters.height;\r\n\r\n    const isXAligned = ballX > paddleX - halfPaddleWidth - bonusZone && ballX < paddleX + halfPaddleWidth + bonusZone;\r\n    const isYAligned = ballY < paddleY + halfPaddleHeight && ballY > paddleY;\r\n    return isXAligned && isYAligned;\r\n  }\r\n}\r\n\r\nconst a = new App();\r\na.init(true);\r\n"],"names":["THREE.WebGLRenderer","THREE.OrthographicCamera","THREE.Scene","THREE.Clock","Howl","gsap","loader","THREE.TextureLoader","smoke2","smokeUrl2","THREE.Vector3","THREE.SphereGeometry","THREE.MeshBasicMaterial","THREE.DoubleSide","THREE.Mesh","THREE.SpriteMaterial","THREE.Sprite","shader","THREE.BoxBufferGeometry","THREE.ShaderMaterial","brickfrag","brickvert","THREE.Uniform","THREE.Color","THREE.Group","THREE.Object3D","THREE.PlaneGeometry","overlayfrag","THREE.Vector2","THREE.BoxGeometry"],"mappings":"inBAOO,QAAqB,CACxB,YAAY,EAAW,CACrB,KAAK,UAAY,EACjB,KAAK,SAAW,GAAIA,IAAoB,CACtC,UAAW,KAEb,KAAK,SAAS,QAAQ,EAAU,YAAa,EAAU,aAAc,IAGrE,EAAU,OAAO,KAAK,SAAS,YAGnB,EAAU,YACT,EAAU,aACf,IAAM,EAAU,YAAc,EAAU,aACvC,IAAM,EAAU,YAAc,EAAU,aAEjD,KAAM,GAAc,EAAU,YAAc,EAAU,aAChD,EAAc,IACd,EAAe,EAAc,EAEnC,KAAK,OAAS,GAAIC,IAAyB,EAAc,GAAK,EAAc,EAAG,EAAe,EAAG,EAAe,GAAK,EAAG,KAWxH,KAAK,MAAQ,GAAIC,IACjB,KAAK,MAAM,IAAI,KAAK,QACpB,KAAK,MAAQ,GAAIC,IACjB,KAAK,OAAS,GACd,KAAK,SAAW,GAChB,KAAK,KAAO,KAAK,KAAK,KAAK,MAC3B,KAAK,KAAO,KAAK,KAAK,KAAK,MAE7B,YAAa,CACX,MAAO,IAAI,SAAQ,CAAC,EAAS,IAAW,IAK1C,MAAO,CACL,KAAK,OAEP,mBAAmB,EAAQ,EAAG,CAC5B,KAAM,GAAgB,KAAK,OAAO,IAAM,KAAK,GAAM,IAC7C,EAAS,KAAK,IACjB,MAAK,OAAO,SAAS,EAAI,GAAS,KAAK,IAAI,EAAe,GAAK,GAElE,MAAO,CAAE,MAAO,EAAS,KAAK,OAAO,OAAQ,UAE/C,SAAU,CACR,KAAK,SAAW,GAElB,UAAW,EACX,QAAS,EACT,QAAS,CACP,KAAK,SAAS,OAAO,KAAK,MAAO,KAAK,QAExC,MAAO,CACL,GAAI,KAAK,SAAU,OAEnB,GAAI,GAA4B,KAAK,UAAW,CAC9C,KAAM,GAAS,KAAK,SAAS,WAC7B,KAAK,OAAO,OAAS,EAAO,YAAc,EAAO,aACjD,KAAK,OAAO,yBACZ,KAAK,WAEP,KAAM,GAAQ,KAAK,MAAM,WACzB,KAAK,OAAO,GACZ,KAAK,OAAO,GAEZ,sBAAsB,KAAK,OAI/B,YAAqC,EAAU,CAC7C,KAAM,GAAS,EAAS,WAClB,EAAQ,EAAO,YACf,EAAS,EAAO,aAChB,EAAa,EAAO,QAAU,GAAS,EAAO,SAAW,EAC/D,MAAI,IACF,EAAS,QAAQ,EAAO,EAAQ,IAE3B,EChGX,OAAe,ymGCAf,KAAM,IAAc,UAAU,YAAc,UAAU,aACzC,EAAa,IACb,EAAc,EAAa,GCFxC,OAAe,4CCAA,2CCAA,2CCAA,2CCAA,2CCAA,wCCER,KAAM,GAAQ,EAAI,GACZ,EAAa,EAAI,aAAa,QAAQ,eAAiB,IACvD,EAAqB,EAAI,aAAa,QAAQ,uBAAyB,GACvE,EAAY,EAAI,IAEhB,EAAc,EAAI,aAAa,QAAQ,gBAAkB,IACzD,EAAa,EAAI,aAAa,QAAQ,eAAiB,IAEvD,EAAQ,GAAS,CAC1B,WAAY,EACZ,eAAgB,GAAI,QAGX,GAAiB,GAAS,IAAM,CAE3C,KAAM,GAAO,EAAM,eAGnB,MAAI,GACS,EAAK,mBAAmB,QAAS,CAC5C,KAAM,UACN,OAAQ,YAHO,KAQgB,GAAS,IAGhC,AADO,CAAC,SAAU,SAAU,UAAW,YAAa,WAAY,SAAU,YACjE,EAAM,eAAe,WAI1C,GAAQ,CAAE,aAAY,qBAAoB,gBAEnC,YAAkB,EAAQ,CAC/B,EAAM,MAAQ,EACV,EAAS,EAAmB,OAC9B,GAAmB,MAAQ,GAI/B,YAAiB,EAAQ,CACvB,OAAO,QAAQ,GAAQ,QAAQ,AAAC,GAAM,CACpC,EAAM,EAAE,GAAI,CAAC,EAAO,IAAa,CAC/B,aAAa,QAAQ,EAAE,GAAI,OC/C1B,KAAM,GAAW,CAAC,EAAW,IAAW,CAC7C,GAAI,GAAM,GAAI,aAAY,EAAW,CAAE,QAAS,GAAM,OAAQ,IAC9D,OAAO,cAAc,IAEV,EAAK,CAAC,EAAW,IAAa,CACzC,KAAM,GAAW,GAAM,GAEvB,cAAO,iBAAiB,EAAW,GAEzB,CACR,WACA,IAAK,IAAM,CAAE,GAAI,EAAW,MAMnB,GAAM,CAAC,EAAW,IAAa,CAC1C,OAAO,oBAAoB,EAAW,IAGlC,GAAQ,AAAC,GACN,AAAC,GAAM,CAAG,EAAS,EAAE,SCtB9B,OAAe,0CCAA,4CCAA,wCCQR,GAAI,IAAS,GAKpB,GAAI,IAAS,CACX,GACA,GACA,GACA,GACA,IAGS,GAAQ,GAAO,IACxB,AAAC,GAAM,GAAIC,QAAK,CACd,IAAK,EACL,OAAQ,GACR,OAAQ,CACN,UAAW,CAAC,IAAK,SAOhB,KAAM,IAAM,GAAIA,QAAK,CAAC,IAAK,GAAM,OAAQ,KAInC,EAAQ,GAAIA,QAAK,CAAC,IAAK,GAAQ,KAAM,GAAM,OAAQ,EAAY,MAAQ,MAKvE,EAAS,GAAIA,QAAK,CAAC,IAAK,GAAW,KAAM,GAAM,OAAQ,IACpE,EAAO,OAAO,GACd,EAAO,OAGP,EAAM,EAAY,AAAC,GAAU,CAGzB,OAAO,OAAO,EAAQ,OAI1B,EAAM,EAAa,CAAC,EAAQ,IAAW,CACnC,EAAM,OAAO,EAAS,OAGnB,KAAM,IAAY,CAAC,EAAM,EAAI,IAAa,CAC/CC,EAAK,GAAG,EAAM,CAAC,OAAQ,EAAG,aAC1BA,EAAK,GAAG,EAAI,CAAC,OAAQ,EAAY,MAAM,IAAK,cAG9C,GAAI,GAAe,EACnB,EAAG,oBAAqB,AAAC,GAAM,CAE7B,AAAG,EAAE,IAAM,OACT,IAAU,EAAc,EAAQ,GAChC,EAAe,GAEd,EAAE,IAAM,UACT,IAAU,EAAc,EAAO,GAC/B,EAAe,KCxEZ,KAAM,GAAa,AAAC,GACnB,MAAM,QAAQ,GAAa,EAAI,KAAK,MAAM,KAAK,SAAW,EAAI,SAC3D,EAIE,EAAgB,AAAC,GAAQ,CACpC,GAAG,EAAC,EACJ,SAAI,mBACJ,EAAI,SAAS,UACb,EAAI,SAAS,UACb,EAAI,SAAW,KACf,EAAI,SAAW,KACf,EAAM,KACC,MCZHC,GAAS,GAAIC,GAGZ,GAAIC,IAASF,GAAO,KAAKG,IASzB,KAAM,IAAQH,GAAO,KAAK,IACjC,GAAM,OAAO,IAAI,GAAG,IAEb,QAAW,CAChB,YAAY,EAAK,CAmIjB,eAAQ,GAlIN,KAAK,IAAM,EACX,KAAK,IAAM,GAAII,GAAc,EAAG,EAAG,GAGrC,QAAS,CACP,KAAK,KAAK,SAAS,IAAI,EAAG,GAAI,CAAC,QAC/B,KAAK,KAAK,SAAS,MAAM,IAAI,UAG/B,SAAU,CACR,KAAK,KAAO,EAAc,KAAK,MAC/B,KAAK,SAAW,KAChB,KAAK,SAAW,KAEhB,KAAK,OAAS,EAAc,KAAK,QAGnC,SAAS,EAAO,CACd,KAAK,KAAK,SAAS,MACjB,EAAM,KAAK,SAAS,SAAS,OAAO,MAAM,QAC5C,KAAK,KAAK,SAAS,MAAM,eAAe,GACxC,KAAK,IAAI,QAAQ,QAAQ,EAAM,KAAK,UACpCL,EAAK,OAAO,KAAK,KAAK,MAAO,CAAE,EAAG,IAAM,CAAE,EAAG,EAAG,SAAU,KAI5D,MAAO,CACL,KAAK,UAAY,KAAK,MACtB,KAAK,OAAS,GACd,QAAQ,IAAI,KAAK,QAEjB,KAAK,SAAW,GAAIM,IAAqB,KAAK,OAAQ,GAAI,IAC1D,KAAK,SAAW,GAAIC,IAAwB,CAC1C,KAAMC,GACN,IAAK,GAEL,UAAW,GACX,WAAY,GAEZ,YAAa,KAIf,GAAI,GAAO,GAAIC,GAAW,KAAK,SAAU,KAAK,UAE9C,EAAK,SAAS,EAAI,GAClB,EAAK,SAAS,EAAI,EAClB,EAAK,SAAS,EAAI,EAElB,KAAK,KAAO,EAGZ,KAAK,MAAQ,GACb,KAAK,OAAS,CACZ,MAAO,GAGT,KAAM,GAAiB,GAAIC,GAAqB,CAAE,IAAKP,KACvD,KAAK,OAAS,GAAIQ,GAAa,GAE/B,KAAK,IAAI,MAAM,IAAI,KAAK,QACxB,KAAK,IAAI,MAAM,IAAI,GAGrB,SAAS,EAAO,CACd,GAAI,GAAQ,EACZ,AAAI,GAAQ,GAAK,KAAK,IAAI,EAAI,GAG7B,EAAQ,GAAK,KAAK,IAAI,EAAI,IACzB,GAAQ,GAEV,EAAQ,EAAQ,EAAM,OAAK,SAAU,GAAG,GAWxC,AADWX,EAAK,WAEf,GAAG,KAAK,OAAQ,CAAC,MAAO,EAAO,SAAU,KACzC,GAAG,KAAK,OAAQ,CAAC,MAAO,EAAG,MAAO,EAAI,SAAU,IAInD,QAAS,CAGP,GAAI,GAAe,IACnB,MAAO,MAAK,MAAQ,KAAK,UAAY,EAGvC,QAAS,CAEP,KAAK,UAAY,KAAK,MACtB,KAAM,GAAc,KAAK,SAAW,GACpC,KAAK,OAAO,SAAS,SAAW,GAAK,KAAK,SAE1C,KAAK,OAAO,SAAS,KAAK,KAAK,KAAK,UACpC,KAAK,OAAO,SAAS,EAAI,EAEzB,GAAI,OAGJA,EAAK,OAAO,KAAK,KAAK,MAAO,CAAE,EAAG,IAAM,CAAE,EAAG,EAAG,SAAU,KACjDA,EACN,WACA,OAAO,KAAK,OAAO,MAAO,CACzB,EAAE,EACF,EAAG,EACH,EAAE,GACD,CACD,SAAU,GACV,EAAG,GAAK,EACR,EAAG,GAAK,EACR,EAAG,IAEJ,OAAO,KAAK,OAAO,SAAS,CAAC,QAAS,GAAI,CACzC,SAAU,GACV,QAAS,GACT,GAON,OAAO,EAAM,CACX,KAAK,QACL,GAAI,GAAQ,KAAK,IAAI,EAAM,EAAO,IAAM,GACxC,AAAG,KAAK,IAAI,UAAU,mBACpB,GAAQ,GAKV,GAAI,GAAM,KAAK,IACX,EAAU,KAAK,OAAS,EACxB,EAAU,KAAK,OAAS,EACxB,EAAO,KAAK,KAAK,SAAS,EAC1B,EAAO,KAAK,KAAK,SAAS,EAI1B,EAAgB,IAAM,EAG1B,AACE,EAAO,GAAW,EAAa,GAC/B,KAAK,KAAK,SAAS,EAAI,GAAW,CAAC,EAAa,EAGhD,GAAI,QAAQ,GAAIK,GAAc,EAAG,EAAG,IACpC,KAAK,UACA,AAAI,EAAO,GAAiB,EAAc,EAE/C,GAAI,IAAI,EAAI,EAAG,GAAI,GACnB,KAAK,UACG,EAAO,GAAW,CAAC,EAAY,GAEvC,GAAI,IAAI,EAAI,EAAE,EAAE,GAChB,KAAK,OAAO,MAAQL,EAAK,MAAM,OAAO,EAAE,IAI1C,GAAI,GAAW,EAAI,QAAQ,eAAe,GAQ1C,AAAK,KAAK,SAGR,KAAK,KAAK,SAAS,QAAU,EAF7B,KAAK,KAAK,SAAS,QAAU,GAAM,MAAK,IAAK,EAAK,IAAK,GAAG,EAK5D,KAAK,KAAK,QAAQ,KAClB,EAAS,GAAK,KAAK,OAAO,MAG1B,KAAK,KAAK,SAAS,IAAI,GAEnB,KAAK,MAAQ,GAAK,GACpB,KAAK,IAAI,QAAQ,WAAW,EAAG,KAAK,KAAK,SAAS,KC5MjD,QAAgB,CACrB,MAAO,CACL,KAAK,UAAY,GAAI,MACrB,KAAK,YAAe,GAEpB,GAAI,GAAK,GAAI,MAEb,EAAG,SAAS,EAAE,EAAE,EAAE,GAClB,GAAI,GAAW,EACf,GAAI,OAAM,KAAK,KAAK,GAAG,QAAQ,CAAC,EAAG,IAAM,CAGrC,EAAG,WAAW,EAAG,aAAe,GAChC,GAAI,GAAI,GAAI,MAAK,GACjB,GAAYA,EAAK,MAAM,OAAO,KAAK,KACnC,EAAW,KAAK,IAAI,EAAU,GAC9B,KAAK,YAAY,KAAK,CAAC,EAAG,MAKhC,iBAAkB,CAChB,GAAI,KAAK,YAAc,EACrB,MAAO,GAIX,oBAAqB,CACnB,GAAI,KAAK,WAAa,GAAK,KAAK,WAAa,GAC3C,MAAO,GAIX,kBAAmB,CACjB,GAAI,KAAK,YAAc,GACrB,MAAO,GAIX,cAAc,EAAM,CAElB,GAAI,GAAQ,KAAK,MAAM,EADT,GAEV,EAAY,KAAK,YAAY,KAAK,YAAY,OAAS,GAC3D,KAAM,GAAQ,KAAK,YAAY,IAAU,EAGzC,SAAM,WAAa,EAAM,GAAG,QAAQ,GAEpC,EAAM,eAAiB,EAAM,GAEtB,EAAM,GAKf,qBAAsB,CACpB,GAAG,KAAK,kBACN,MAAO,MAET,GAAG,KAAK,qBACN,MAAO,SAET,GAAG,KAAK,mBACN,MAAO,OAIX,OAAO,EAAM,CACX,KAAK,WAAa,KAAK,cAAc,GACrC,EAAM,WAAa,KAAK,WAAW,QAAQ,GAE3C,KAAM,GAAQ,KAAK,sBACb,EAAW,KAAK,iBACtB,AAAG,GAAS,GACV,GAAS,oBAAoB,CAAC,KAAM,EAAU,GAAI,IAClD,KAAK,iBAAmB,IChFvB,KAAMY,IAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,ECATA,GAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,ECAtB,OAAe,4CCAA,yCCMf,KAAMX,IAAS,GAAIC,GAGb,GAAQD,GAAO,KAAK,IAEpB,GAAQA,GAAO,KAAK,IAUpB,GAAS,CAAC,GAAI,UAAW,UAAW,UAAW,UAE9C,QAAY,CACjB,YAAY,EAAK,EAAa,EAAM,EAAS,EAAK,EAAQ,CACxD,KAAK,IAAM,EACX,KAAK,YAAc,EACnB,KAAK,KAAO,EACZ,KAAK,QAAU,EACf,KAAK,IAAM,EACX,KAAK,OAAS,EAGhB,MAAO,CACL,KAAK,MAAQ,EAAa,KAAK,QAE/B,KAAM,GAAW,GACjB,KAAK,QAAU,EAAc,IAC7B,KAAK,OAAS,EAAa,KAAK,QAAU,EAI1C,KAAK,OAAS,EAAW,KAAK,aAC9B,KAAK,KAAO,KAAK,OACjB,KAAK,QAAU,KAAK,aAEpB,KAAK,SAGL,KAAK,SAAW,GAAIY,IAAwB,KAAK,OAAQ,KAAK,QAAS,GACvE,KAAK,SAAW,GAAIC,GAAqB,CACvC,eAAgBC,GAChB,aAAcC,GACd,SAAU,CACR,OAAQ,GAAIC,GAAc,GAAIC,GAAY,KAAK,OAAO,QACtD,OAAQ,GAAID,GAAc,GAC1B,MAAO,GAAIA,GAAc,IAE3B,YAAa,GACb,QAAS,IAGX,GAAI,GAAO,GAAIR,GAAW,KAAK,SAAU,KAAK,UAI9C,KAAK,KAAO,EACZ,KAAK,MAAQ,GAAIU,IACjB,KAAK,MAAM,IAAI,GAEf,KAAK,aACL,KAAK,eAML,KAAK,IAAI,MAAM,IAAI,KAAK,OAG1B,YAAa,CACX,KAAK,KAAK,SAAS,EAAI,EAAc,EAAI,KAAK,QAAU,EAAI,GAC5D,KAAK,KAAK,SAAS,GAAK,KAAK,QAAW,MAAK,IAAM,GAAK,GAAK,KAAK,IAClE,KAAK,KAAK,SAAS,EAAI,CAAC,EAAa,EAAI,KAAK,MAAQ,KAAK,OACxD,KAAK,YACN,MAAK,WAAW,SAAS,KAAK,KAAK,KAAK,UACxC,KAAK,WAAW,SAAS,EAAI,GAE/BnB,EAAK,KAAK,KAAK,MAAM,SAAU,CAAC,SAAU,EAAE,KAAM,sBAAuB,EAAG,KAAK,KAAK,SAAS,EAAI,IAAK,MAAOA,EAAK,MAAM,OAAO,EAAE,KAIrI,SAAU,CACR,KAAK,KAAO,EAAc,KAAK,MAC/B,KAAK,SAAW,KAChB,KAAK,SAAW,KAEhB,KAAK,WAAa,EAAc,KAAK,YACrC,KAAK,MAAM,mBAIb,cAAe,CACb,GAAI,KAAK,QAAS,CAChB,GAAI,GAAU,GACd,AAAG,KAAK,UAAY,cAClB,EAAU,GACF,KAAK,UAAY,cACzB,GAAU,IAEZ,KAAM,GAAiB,GAAIU,GAAqB,CAAE,IAAK,IACvD,KAAK,WAAa,GAAIC,GAAa,GACnC,KAAK,WAAW,MAAM,IAAI,GAAI,GAAI,IAClC,KAAK,WAAW,SAAS,KAAK,KAAK,KAAK,UACxC,KAAK,WAAW,SAAS,EAAI,EAC7B,KAAK,WAAW,SAAS,QAAU,EACnC,KAAK,MAAM,IAAI,KAAK,gBACf,AAAI,MAAK,YACd,MAAK,MAAM,OAAO,KAAK,YACvB,KAAK,WAAW,SAAS,UACzB,KAAK,WAAW,MAAQ,KACxB,KAAK,WAAW,SAAS,UACzB,KAAK,WAAW,SAAW,KAC3B,KAAK,WAAa,MAKtB,QAAS,CACP,GAAI,GAAQ,GAAO,KAAK,QACxB,KAAK,OAAS,CACZ,QAAS,EACT,MAAO,GAIX,IAAI,EAAQ,EAAG,CACb,KAAK,MAAQ,EACb,KAAK,KAAK,QAAQ,KAAK,SAAW,IAClC,EAAW,IAAO,OAGd,KAAK,UACP,KAAK,UAGP,KAAM,GAAU,KAAK,QACrB,YAAK,eACE,CACL,OAAQ,KAAK,YACb,QAAS,GAIb,cAAe,CACb,KAAK,QAAU,KACf,KAAK,eAGP,WAAY,CACV,GAAI,KAAK,SACP,MAAO,MAAK,OAIhB,SAAU,CACR,KAAK,IAAI,QAAQ,eAAe,EAAG,KAAK,KAAK,UAG7CX,EAAK,GAAG,KAAK,OAAQ,CAAE,SAAU,GAAK,QAAS,IAC/CA,EAAK,GAAG,KAAK,KAAK,SAAU,CAAC,EAAG,CAAC,EAAY,EAAG,SAAU,KACvD,KAAK,YAAYA,EAAK,GAAG,KAAK,WAAW,SAAU,CAAC,EAAG,EAAG,SAAU,KAEzE,QAAS,CACP,MAAO,MAAK,KAAO,EAGrB,UAAW,CACT,MAAO,MAAK,KAAO,EAGrB,YAAY,EAAM,CAChB,KAAK,MAAM,SAAS,QAAQ,AAAC,GAAM,CACjC,AAAI,YAAaoB,KACf,EAAK,KAKX,QAAS,CAEP,KAAK,OAAO,QAAU,EACtB,KAAK,KAAK,SAAS,SAAS,OAAO,MAAQ,EAC3C,KAAK,KAAK,SAAS,EAAI,EACvB,KAAK,QAAU,KAAK,aACpB,KAAK,eAEL,KAAK,aACL,WAAW,IAAM,CACf,KAAK,KAAO,KAAK,QAChB,KAWL,YAAa,CACX,MAAI,MAAK,SAAW,GACX,KAII,EADG,CAAC,cAAe,eAKlC,OAAO,EAAM,CACX,KAAK,KAAO,EACZ,KAAK,KAAK,SAAS,SAAS,MAAM,MAAQ,EAC1C,KAAK,KAAK,SAAS,SAAS,OAAO,MAAQ,KAAK,OAAO,QACvD,KAAK,YAAY,AAAC,GAAM,CACtB,AAAI,EAAE,mBAAoB,GACxB,EAAE,SAAS,QAAU,KAAK,OAAO,QACxB,EAAE,mBAAoB,IAC3B,EAAE,SAAS,SAAS,SACtB,GAAE,SAAS,SAAS,SAAS,MAAQ,KAAK,OAAO,YCtOpD,KAAM,IAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,ECOf,QAAc,CACnB,YAAY,EAAK,CACf,KAAK,IAAM,EAGb,SAAU,CACR,EAAc,KAAK,MAGrB,MAAO,CACL,GAAI,GAAW,GAAIC,IAAoB,EAAY,GAEnD,KAAM,GAAY,CAChB,2BACA,0CAEA,gBACA,aACA,4DACA,sEAEA,6EAEA,KACA,KAAK;AAAA,GACP,GAAI,GAAW,GAAIP,GAAqB,CACtC,eAAgBQ,GAChB,aAAc,EACd,YAAa,GACb,SAAU,CACR,WAAY,GAAIL,GAAc,GAAIM,IAAc,EAAY,IAC5D,OAAQ,GAAIN,GAAc,GAAIC,GAAY,YAC1C,OAAQ,GAAID,GAAc,GAC1B,MAAO,GAAIA,GAAc,MAI7B,KAAK,KAAO,GAAIR,GAAW,EAAU,GAErC,KAAK,KAAK,SAAS,EAAI,GACvB,KAAK,IAAI,MAAM,IAAI,KAAK,MACxB,KAAK,QAAU,GAGjB,MAAO,CACL,AAAK,KAAK,SACR,MAAK,QAAU,GACfT,EAAK,GAAG,KAAK,KAAK,SAAS,SAAS,OAAQ,CAAE,SAAU,GAAK,MAAO,MAKxE,MAAO,CACL,AAAI,KAAK,SACPA,GAAK,GAAG,KAAK,KAAK,SAAS,SAAS,OAAQ,CAAC,SAAU,GAAK,MAAO,IACnE,KAAK,QAAU,IAInB,OAAO,EAAM,CACX,KAAK,KAAK,SAAS,SAAS,MAAM,MAAQ,GC3DvC,QAAY,CACjB,YAAY,EAAK,CACf,KAAK,IAAM,EACX,KAAK,IAAM,GAAIK,GAAc,EAAG,EAAG,GAGrC,SAAU,CACR,EAAc,KAAK,MAGrB,MAAO,CACL,KAAM,GAAc,EACpB,GAAI,GAAW,GAAImB,IAAkB,IAAK,GAAI,IAC1C,EAAW,GAAIjB,IAAwB,CACzC,MAAO,GAAIW,GAAY,aAErB,EAAO,GAAIT,GAAW,EAAU,GAEpC,EAAK,SAAS,EAAI,CAAC,EAAc,EAAI,EAAc,EACnD,EAAK,SAAS,EAAI,EAClB,KAAK,KAAO,EAEZ,KAAK,IAAI,MAAM,IAAI,GAGnB,GAAI,GAAU,GACd,KAAM,GAAkB,IAAM,CAC5B,KAAM,GAAM,EAAQ,GACpB,AAAI,GAAO,YACT,KAAK,IAAI,EAAI,GACR,AAAI,GAAO,aAChB,KAAK,IAAI,EAAI,EAEb,KAAK,IAAI,EAAI,GAGjB,OAAO,iBAAiB,UAAW,AAAC,GAAM,CACxC,EAAQ,QAAQ,EAAE,KAClB,MAGF,OAAO,iBAAiB,YAAa,AAAC,GAAM,CAE1C,GAAI,GAAW,EAAE,QAAQ,GAAG,QAC5B,QAAQ,IAAI,KAKd,OAAO,iBAAiB,QAAS,AAAC,GAAM,CACtC,EAAU,EAAQ,OAAO,AAAC,GAAQ,IAAQ,EAAE,KAC5C,MAIJ,KAAM,CAEJ,KAAK,KAAK,SAAS,MAAM,IAAI,GAAIS,GAAY,cAK7C,AADWlB,EAAK,WACb,GAAG,KAAK,KAAK,MAAO,CAAE,SAAU,IAAM,EAAG,GAAI,KAAM,WAAY,KAAM,GAAM,OAAQ,IACtFA,EAAK,OAAO,KAAK,KAAK,MAAO,CAAE,EAAG,IAAM,CAAE,EAAG,EAAG,SAAU,KAU5D,OAAO,EAAM,EAAS,CACpB,GAAI,GAAQ,KAAK,IAAI,EAAG,EAAM,YAC1B,EAAM,KAAK,IACX,EAAU,IAAM,EACT,KAAK,KAAK,SAAS,EAE9B,AAAI,EACF,MAAK,KAAK,MAAM,EAAI,GACpB,KAAK,KAAK,SAAS,MAAQ,GAAIkB,GAAY,YAE3C,MAAK,KAAK,MAAM,EAAI,EACpB,KAAK,KAAK,SAAS,MAAQ,GAAIA,GAAY,YAQ7C,GAAI,GAAW,EAAI,QAAQ,eAAe,GAM1C,KAAK,KAAK,SACP,IAAI,GACJ,MACC,GAAIb,GAAc,CAAC,EAAa,EAAI,EAAS,CAAC,GAC9C,GAAIA,GAAc,EAAa,EAAI,EAAS,KC9GpD,OAAe,qyGCIf,KAAM,IAAS,GAAIH,GAGb,GAAS,GAAO,KAAK,IAGrB,GAAS,GAAO,KAAK,IAEpB,QAAc,CAAd,cACL,oBAAa,IACb,gBAAS,IACT,uBAAgB,GAChB,mBAAY,GAEZ,KAAK,EAAK,CACR,KAAK,IAAM,EACX,QAAQ,KAAK,sBACb,KAAK,kBAEL,KAAK,cAGP,WAAW,EAAQ,EAAU,EAAM,EAAO,CACxC,EAAQ,GAASgB,EAAY,MAE7B,OAAS,GAAI,EAAG,EAAI,EAAQ,IAAK,CAC/B,KAAM,GAAW,KAAK,YAAc,KAAK,OAAO,OAE1C,EAAQ,KAAK,OAAO,GAC1B,EAAM,SAAS,KAAK,GAEpB,EAAM,SAAS,MAAM,IAAI,GACzB,EAAO,GAAQ,GAEf,GAAS,EAAO,EAAK,KAAK,SAE1BlB,EAAK,OAAO,EAAM,SAAU,CAAC,QAAS,GAAI,CAAE,SAAU,GAAK,QAAS,IACpEA,EAAK,GAAG,EAAM,SAAU,CAAE,SAAU,EAAI,SAAU,KAAK,GAAK,KAAK,SAAW,KAAK,KACjFA,EAAK,OAAO,EAAM,MAAO,CAAC,EAAG,EAAG,EAAG,GAAI,CAAE,SAAU,EAAK,EAAG,EAAM,EAAG,KAIxE,aAAa,CACX,KAAK,OAAS,GACd,KAAM,GAAS,GACf,GAAI,GAAU,GACd,KAAM,GAAW,GAAIU,GAAqB,CAAE,IAAK,IACjD,OAAS,GAAI,EAAG,EAAI,EAAQ,IAAK,CAC/B,KAAM,GAAS,GAAIC,GAAa,EAAS,SACzC,EAAO,MAAM,IAAI,EAAG,EAAG,GACvB,EAAO,QAAU,EACjB,KAAK,OAAO,KAAK,GACjB,KAAK,IAAI,MAAM,IAAI,IAIvB,iBAAkB,CAChB,KAAK,WAAa,GAClB,KAAM,GAAqB,GAC3B,GAAI,GAAU,GACd,KAAM,GAAW,GAAID,GAAqB,CAAE,IAAK,IACjD,OAAS,GAAI,EAAG,EAAI,EAAoB,IAAK,CAC3C,KAAM,GAAS,GAAIC,GAAa,EAAS,SACzC,EAAO,MAAM,IAAI,EAAG,EAAG,GACvB,EAAO,QAAU,EACjB,KAAK,WAAW,KAAK,GACrB,KAAK,IAAI,MAAM,IAAI,IAIvB,QAAQ,EAAU,CAChB,GAAI,GAAM,EAAS,QACnB,EAAI,EAAI,EACR,KAAK,eAAe,EAAG,EAAK,GAAIO,EAAY,KAG9C,eAAe,EAAQ,EAAU,EAAM,EAAO,CAC5C,EAAQ,GAASA,EAAY,MAC7B,OAAS,GAAI,EAAG,EAAI,EAAQ,IAAK,CAC/B,KAAM,GAAW,KAAK,gBAAkB,KAAK,WAAW,OAElD,EAAY,KAAK,WAAW,GAClC,EAAU,SAAS,KAAK,GAExB,EAAU,SAAS,MAAM,IAAI,GAC7B,EAAO,GAAQ,GAEf,GAAS,EAAO,EAAK,KAAK,SAE1BlB,EAAK,OAAO,EAAU,SAAU,CAAC,QAAS,GAAI,CAAE,SAAU,GAAK,QAAS,IACxEA,EAAK,GAAG,EAAU,SAAU,CAAE,SAAU,EAAI,SAAU,KAAK,GAAK,KAAK,SAAW,KAAK,KACrFA,EAAK,OAAO,EAAU,MAAO,CAAC,EAAG,EAAG,EAAG,GAAI,CAAE,SAAU,EAAK,EAAG,EAAM,EAAG,MC9F9E,MAAe,CAAC,EAAK,IAAU,CAC7B,KAAM,GAAS,EAAI,WAAa,EAChC,SAAW,CAAC,EAAK,IAAQ,GACvB,EAAO,GAAO,EAEhB,MAAO,2bCDT,YAAiB,CAChB,QAAQ,IAAI,cACZ,EAAS,0UCPK,qVCOf,YAAmB,CACjB,EAAS,cAKX,GAAI,GAAQ,EACZ,GAASA,EAAK,MAAM,OAAO,GAAG,EAAE,GAChC,KAAM,GAAa,EAAI,EAGjB,EAAU,CACd,YAAa,QAAU,GAAU,yfCnBpB,mzBCYf,KAAM,GAAU,GAAW,IAE3B,EAAG,CAAC,aAAc,IAAM,CACpB,EAAQ,MAAQ,GAChB,EAAU,MAAQ,KAItB,GAAI,GACJ,SAAM,EAAO,CAAC,EAAU,IAAa,CACjC,AAAI,CAAC,GACL,CAAK,EAAG,WAGJ,QAAQ,IAAI,UAFZ,EAAG,QAAQ,OAMnB,GAAU,IAAM,CACZ,EAAKA,EAAK,OAAO,gBAAiB,CAAE,MAAO,GAAK,CAC5C,SAAU,GACV,cAAe,GACf,MAAO,UACP,EAAG,eACH,EAAG,iBACH,SAAU,iBACV,MAAO,gBAAiB,KAAM,eAAgB,KAAM,GAAM,OAAQ,iuBCfnE,gBAAkB,GAAe,CACtC,YAAY,EAAW,CACrB,KAAM,GAAU,CACd,UAAW,SAAS,eAAe,cAErC,MAAM,EAAQ,WAsShB,gCAAyB,AAAC,GAAS,CACjC,KAAM,GAAQ,EAAK,KAAK,SAAS,EAC3B,EAAQ,EAAK,KAAK,SAAS,EAEjC,MAAO,MAAK,OACT,OAAO,AAAC,GAAM,EAAE,YAChB,KAAK,AAAC,GAAU,CACf,KAAM,GAAU,EAAM,KAAK,SAAS,EAC9B,EAAkB,EAAM,KAAK,SAAS,WAAW,MAAQ,EAEzD,EAAU,EAAM,KAAK,SAAS,EAC9B,EAAmB,EAAM,KAAK,SAAS,WAAW,OAAS,EAE3D,EAAa,EAAQ,EAAU,GAAmB,EAAQ,EAAU,EACpE,EAAa,EAAQ,EAAU,GAAoB,EAAQ,EAAU,EAE3E,MAAI,IAAc,EACT,EAGF,OAzTX,KAAK,QAAU,EAGf,KAAK,UAKP,SAAU,CAER,AADY,GAAU,IAClB,MAAM,QAGZ,eAAgB,CAGd,EAAM,OACN,KAAK,QAAU,GACf,SAAS,iBAAiB,UAAW,AAAC,GAAM,CAC1C,AAAI,EAAE,SAAW,IACf,GAAU,MAAQ,GAClB,KAAK,QACL,KAAK,UAIT,EAAG,aAAc,IAAM,CACrB,EAAU,MAAQ,GAClB,KAAK,QACL,KAAK,SAMT,KAAK,EAAO,CAgBV,GAfA,KAAK,QAAU,GACX,GAAO,KAAK,gBAGhB,KAAK,OAAS,EAEd,KAAK,OAAO,SAAS,EAAI,GACzB,KAAK,OAAO,SAAS,EAAI,EACzB,KAAK,OAAO,SAAS,EAAI,EAEzB,KAAK,MAAQ,GACb,KAAK,OAAS,GACd,KAAK,UAAY,GAGb,EAAO,CACT,KAAM,GAAU,GAAI,IACpB,KAAK,QAAU,EACf,EAAQ,KAAK,MAGb,KAAK,UAAY,GAAI,IACrB,KAAK,UAAU,OACf,KAAK,GAAK,CACR,GAAI,SAAS,eAAe,MAC5B,OAAQ,SAAS,cAAc,aAC/B,SAAU,SAAS,cAAc,cACjC,OAAQ,SAAS,iBAAiB,eAItC,GAAI,GAAQ,GAAI,IAAM,MAItB,GAHA,EAAM,OACN,KAAK,MAAQ,EAET,CAAC,EAAO,CACV,KAAM,GAAY,GAAI,IAAK,MAC3B,EAAU,OACV,KAAK,MAAQ,CAAC,GAIhB,KAAK,QAAU,GAAI,IAAQ,MAC3B,KAAK,QAAQ,OAEb,KAAK,OAAS,GAEd,KAAK,KAAO,EACZ,KAAK,UAAY,EACjB,KAAK,UAAY,EAEjB,KAAM,GAAO,EACP,EAAU,GAEV,EAAc,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAEnD,OAAS,GAAM,EAAG,EAAM,EAAM,IAC5B,OAAS,GAAS,EAAG,EAAS,EAAS,IAAU,CAC/C,KAAM,GAAQ,GAAI,IAAM,KAAM,EAAa,EAAM,EAAS,EAAK,GAC/D,EAAM,OACN,KAAK,OAAO,KAAK,GAIrB,KAAK,MAAM,WAAa,GAAIkB,GAAY,QACxC,KAAK,eAED,GAAO,KAAK,OAGlB,cAAe,CACb,GAAS,KAAK,QAGhB,UAAU,EAAM,CACd,MAAO,GAAK,KAAK,SAAS,EAAI,CAAC,EAAc,EAAI,GAGnD,SAAS,EAAM,EAAS,CAGtB,AAAI,EACF,MAAK,QAAQ,OAEb,KAAK,GAAG,GAAG,UAAU,IAAI,QAEzB,MAAK,QAAQ,OAEb,KAAK,GAAG,GAAG,UAAU,OAAO,QAI9B,AADiB,KAAK,UAAU,qBAE9B,KAAK,GAAG,GAAG,UAAU,IAAI,UAEzB,KAAK,GAAG,GAAG,UAAU,OAAO,UAI9B,AADe,KAAK,UAAU,mBAE5B,KAAK,GAAG,GAAG,UAAU,IAAI,QAEzB,KAAK,GAAG,GAAG,UAAU,OAAO,QAIhC,SAAS,EAAO,EAAO,EAAU,CAC/B,GAAI,GAAS,EAAM,IAAI,GAGvB,GAAI,kBAAQ,UAAW,cACrB,KAAK,OAAO,QAAQ,AAAC,GAAM,CACzB,GAAI,EAAE,QAAU,EAAM,OAAQ,CAE5B,KAAM,GAAY,GAClB,KAAK,SAAS,EAAG,EAAW,cAGvB,kBAAQ,UAAW,aAAc,CAC1C,KAAM,GAAU,GAAI,IAAK,MACzB,EAAQ,OACR,EAAS,KAAK,GAGhB,AAAI,kBAAQ,QAAS,GACnB,MAAK,OAEL,KAAK,UAAU,KACb,WAAW,IAAM,CACf,AAAI,GAAO,EAAM,UAChB,MAEL,KAAK,QAAU,EAAO,OACtB,KAAK,OAAS,GAEdlB,EAAK,OAAO,KAAM,CAAE,OAAQ,IAAQ,CAAE,OAAQ,GAAO,SAAU,MAEjE,KAAK,eAGP,WAAW,EAAM,EAAM,EAAU,CAE/B,GADA,EAAK,OAAO,GACR,KAAK,UAAU,IAAS,EAAK,SAE/B,eAAQ,IAAI,QACZ,EAAK,UACE,GAIT,AAAI,KAAK,wBAAwB,IAAS,EAAK,IAAI,EAAI,GACrD,GAAK,SAAS,KAAK,MAAM,IAAI,GAE7B,AAAI,KAAK,MAAM,IAAI,EAAI,GAAK,EAAK,IAAI,EAAI,GAE9B,KAAK,MAAM,IAAI,EAAI,GAAK,EAAK,IAAI,EAAI,EAD9C,EAAK,IAAI,SAIT,EAAK,IAAI,QAAQ,GAAI,GAAQ,EAAG,EAAG,IAGrC,KAAK,MAAM,MACX,EAAK,UASP,GAAI,GAAQ,KAAK,uBAAuB,GACxC,MAAI,IACF,GAAK,SAAS,GACd,EAAK,IAAI,QAAQ,GAAI,GAAQ,EAAG,EAAG,IACnC,KAAK,SAAS,EAAO,EAAK,MAAO,IAG5B,GAGT,OAAO,EAAO,CACZ,GAAG,CAAC,KAAK,QAAS,OAClB,GAAI,GAAO,KAAK,MAAM,YACtB,KAAK,UAAU,OAAO,GAEtB,KAAM,GAAU,KAAK,UAAU,kBAE/B,KAAK,SAAS,EAAM,GACpB,KAAK,QAAQ,OAAO,GAGhB,EAAO,GAAM,GACf,MAAK,UAAY,KAAK,IAAI,EAAG,KAAK,KAAO,KAAK,YAGhD,KAAK,MAAM,OAAO,EAAM,GAExB,GAAI,GAAW,GACf,KAAK,MAAQ,KAAK,MAAM,OAAO,AAAC,GACvB,KAAK,WAAW,EAAM,EAAM,IAIrC,KAAK,MAAQ,KAAK,MAAM,OAAO,GAE3B,KAAK,MAAM,QAAU,GAEvB,KAAK,MAGP,KAAK,OAAO,QAAQ,AAAC,GAAM,CACzB,EAAE,OAAO,KAMX,AAAI,KAAK,MACP,KAAK,OAAO,SAAS,EAAI,KAAK,IAAI,EAAO,KAAO,IAC3C,AAAI,KAAK,OACd,KAAK,OAAO,SAAS,EAAI,KAAK,IAAI,EAAO,KAAO,KAEhD,KAAK,OAAO,SAAS,EAAI,EAM7B,OAAQ,CACN,KAAK,MAAQ,GAAIF,IACjB,KAAK,UAAU,QAAQ,AAAC,GAAM,cAAc,IAE5C,KAAK,MAAM,QAAQ,AAAC,GAAM,EAAE,WAC5B,KAAK,MAAQ,GACb,KAAK,OAAO,QAAQ,AAAC,GAAM,EAAE,WAC7B,KAAK,OAAS,GAEd,KAAK,QAAU,KAAK,QAAQ,UAC5B,KAAK,MAAQ,KAAK,MAAM,UAExB,KAAK,SAAS,YAAY,UAC1B,KAAK,SAAS,UAKhB,KAAM,CACJ,KAAM,GAAW,KAAK,OAEtB,KAAK,MAAM,OAGX,EAAS,YAAa,CAAE,OAAQ,IAChC,KAAK,eA0BP,wBAAwB,EAAM,CAC5B,KAAM,GAAQ,EAAK,KAAK,SAAS,EAC3B,EAAU,KAAK,MAAM,KAAK,SAAS,EACnC,EAAkB,KAAK,MAAM,KAAK,SAAS,WAAW,MAAQ,EAE9D,EAAQ,EAAK,KAAK,SAAS,EAC3B,EAAU,KAAK,MAAM,KAAK,SAAS,EACnC,EAAmB,KAAK,MAAM,KAAK,SAAS,WAAW,OAAS,EAEhE,EAAY,KAAK,MAAM,KAAK,SAAS,WAAW,OAEhD,EAAa,EAAQ,EAAU,EAAkB,GAAa,EAAQ,EAAU,EAAkB,EAClG,EAAa,EAAQ,EAAU,GAAoB,EAAQ,EACjE,MAAO,IAAc,GAIzB,KAAM,IAAI,GAAI,IACd,GAAE,KAAK"}