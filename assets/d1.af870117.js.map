{"version":3,"file":"d1.af870117.js","sources":["../../d1/b2.png","../../d1/BasicThreeDemo.js","../../d1/effects.js","../../d1/sprite1.png","../../d1/main.js"],"sourcesContent":["export default \"__VITE_ASSET__0dc69ad7__\"","import * as THREE from \"three\";\r\n\r\n// import * as Stats from \"stats.js\";\r\n// var stats = new Stats();\r\n// document.body.appendChild( stats.dom );\r\n// stats.showPanel(0);\r\n\r\nexport class BasicThreeDemo {\r\n    constructor(container) {\r\n      this.container = container;\r\n      this.renderer = new THREE.WebGLRenderer({\r\n        antialias: true\r\n      });\r\n      this.renderer.setSize(container.offsetWidth, container.offsetHeight, false);\r\n      this.renderer.setPixelRatio(window.devicePixelRatio);\r\n  \r\n      container.append(this.renderer.domElement);\r\n  \r\n      this.camera = new THREE.PerspectiveCamera(\r\n        45,\r\n        container.offsetWidth / container.offsetHeight,\r\n        0.1,\r\n        600\r\n      );\r\n      this.scene = new THREE.Scene();\r\n  \r\n      this.clock = new THREE.Clock();\r\n      this.assets = {};\r\n      this.disposed = false;\r\n      this.tick = this.tick.bind(this);\r\n      this.init = this.init.bind(this);\r\n    }\r\n    loadAssets() {\r\n      return new Promise((resolve, reject) => {\r\n        // const manager = new THREE.LoadingManager(resolve);\r\n        // this.text.load(manager);\r\n      });\r\n    }\r\n    init() {\r\n      this.tick();\r\n    }\r\n    getViewSizeAtDepth(depth = 0) {\r\n      const fovInRadians = (this.camera.fov * Math.PI) / 180;\r\n      const height = Math.abs(\r\n        (this.camera.position.z - depth) * Math.tan(fovInRadians / 2) * 2\r\n      );\r\n      return { width: height * this.camera.aspect, height };\r\n    }\r\n    dispose() {\r\n      this.disposed = true;\r\n    }\r\n    onResize() {}\r\n    update() {}\r\n    render() {\r\n      this.renderer.render(this.scene, this.camera);\r\n    }\r\n    tick() {\r\n      if (this.disposed) return;\r\n      //stats.begin()\r\n      if (resizeRendererToDisplaySize(this.renderer)) {\r\n        const canvas = this.renderer.domElement;\r\n        this.camera.aspect = canvas.clientWidth / canvas.clientHeight;\r\n        this.camera.updateProjectionMatrix();\r\n        this.onResize();\r\n      }\r\n      const delta = this.clock.getDelta();\r\n      this.render(delta);\r\n      this.update(delta);\r\n      //stats.end()\r\n      requestAnimationFrame(this.tick);\r\n    }\r\n  }\r\n  \r\n  function resizeRendererToDisplaySize(renderer) {\r\n    const canvas = renderer.domElement;\r\n    const width = canvas.clientWidth;\r\n    const height = canvas.clientHeight;\r\n    const needResize = canvas.width !== width || canvas.height !== height;\r\n    if (needResize) {\r\n      renderer.setSize(width, height, false);\r\n    }\r\n    return needResize;\r\n  }","import * as THREE from \"three\";\r\n\r\n\r\nconst distortion_uniforms = {\r\n    uDistortionX: new THREE.Uniform(new THREE.Vector2(80, 3)),\r\n    uDistortionY: new THREE.Uniform(new THREE.Vector2(-40, 2.5))\r\n  };\r\n  \r\n  const distortion_vertex = `\r\n  #define PI 3.14159265358979\r\n    uniform vec2 uDistortionX;\r\n    uniform vec2 uDistortionY;\r\n  \r\n      float nsin(float val){\r\n      return sin(val) * 0.5+0.5;\r\n      }\r\n    vec3 getDistortion(float progress){\r\n          progress = clamp(progress, 0.,1.);\r\n          float xAmp = uDistortionX.r;\r\n          float xFreq = uDistortionX.g;\r\n          float yAmp = uDistortionY.r;\r\n          float yFreq = uDistortionY.g;\r\n          return vec3( \r\n              xAmp * nsin(progress* PI * xFreq   - PI / 2.) ,\r\n              yAmp * nsin(progress * PI *yFreq - PI / 2.  ) ,\r\n              0.\r\n          );\r\n      }\r\n  `;\r\n  \r\n  export const distortion1 = {\r\n    uniforms: distortion_uniforms,\r\n    vshader: distortion_vertex\r\n  };","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABmklEQVQ4ja2Ty07bQBSGP1/GOLWdCCLUQFlGoqs8ReAhUF+k78QOiQ3qumKJWCSlqlBUR4SkLGon8oyxPdWYu5J2EfUsZnPO+eZc/mMBP4Em61liABLYWBOgbPOsmVwD3L95HMdBCA/LstBak+c5VVUuxa0AWATBO8LQp9kEz4MsgzRtkKYZUmb/BpjkTiek2xX0ei3a7QZxnHJxMef62mU20yglVwMcx61/7nY9jo4+0u8fEkUfmEyGnJyccXw8Ist8lDJj08sAIURddq/X5ODgkJ2dT8B7oug7/f6cy8sJ47EiSQT39/kywAxMCNja8tnc3AU6j55d2u0OrZbAdR/insx+DaiqCilhPJ4Tx0PgGzAHBoxGP7i9zVFKUxTFS9vA5ychmXXZ9gZVpbGsXwTBFCmHDAZfOD39yvl5wnSqyLLnISpTy+/XUvb9BtvbEXt7Dvv7phXBzY3i6ionjhV3dwll+VxBLeU3gAeITxD4hKFT9yylZrEoSNMFZflGTKsBL1vxsG2LPC/QelmF/+WYzBpna58zJH8ARoWiAIx+rgkAAAAASUVORK5CYII=\"","import \"./style.css\";\r\n\r\n//import './style.css'\r\nimport * as THREE from \"three\";\r\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls\";\r\nimport { EffectComposer } from \"three/examples/jsm/postprocessing/EffectComposer\";\r\nimport { RenderPass } from \"three/examples/jsm/postprocessing/RenderPass\";\r\nimport { UnrealBloomPass } from \"three/examples/jsm/postprocessing/UnrealBloomPass\";\r\nimport { ShaderPass } from \"three/examples/jsm/postprocessing/ShaderPass\";\r\nimport { CopyShader } from \"three/examples/jsm/shaders/CopyShader\";\r\n//import '../shared/OrbitControls.js'\r\nimport * as dat from \"dat.gui\";\r\n\r\nimport textureUrl from \"./texture.jpg\";\r\nimport displacementUrl from \"./r2.png\";\r\nimport alphaUrl from \"./b2.png\";\r\n\r\nimport { BasicThreeDemo } from \"./BasicThreeDemo\";\r\nimport { CarLights } from \"./CarLights\";\r\nimport { Road } from \"./Road\";\r\nimport { distortion1 as distortion } from \"./effects\";\r\nimport gsap from \"gsap\";\r\nimport { Mesh } from \"three\";\r\nimport tex2Url from \"./b2.png\";\r\nimport tex3Url from \"./sprite1.png\";\r\nimport data from \"./flipsorted.json\";\r\nimport gsapCore from \"gsap/gsap-core\";\r\nconst loader = new THREE.TextureLoader();\r\n\r\nconst texBlur = loader.load(tex2Url);\r\nconst texBlur2 = loader.load(tex3Url);\r\n\r\nimport { TextGeometry } from \"three/examples/jsm/geometries/TextGeometry\";\r\nimport { FontLoader } from \"three/examples/jsm/loaders/FontLoader\";\r\nconst tloader = new FontLoader();\r\nimport fontUrl from \"three/examples/fonts/helvetiker_regular.typeface.json?url\";\r\nconst fontPromise = tloader.loadAsync(fontUrl);\r\n\r\nclass Spiral {\r\n  constructor(app, options) {\r\n    this.app = app;\r\n    this.options = options;\r\n  }\r\n  async init() {\r\n    // var scene = new THREE.Scene();\r\n    // var camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 1, 1000);\r\n    // camera.position.set(0, 30, 30);\r\n\r\n    const font = await fontPromise;\r\n\r\n    let scene = this.app.scene;\r\n    // scene.add(new THREE.GridHelper(20, 10));\r\n\r\n    var radius = 10;\r\n    var turns = data.length / 30;\r\n    var objPerTurn = 30;\r\n\r\n    var angleStep = (Math.PI * 2) / objPerTurn;\r\n    var heightStep = 0.5;\r\n\r\n    var geom = new THREE.BoxBufferGeometry(2, 3, 1);\r\n\r\n    const light = new THREE.PointLight(0xffffff, 1, 200);\r\n    light.position.set(0, 0, -20);\r\n    this.app.camera.add(light);\r\n\r\n    // let bulb = new Mesh(new THREE.SphereBufferGeometry(0.2, 32, 32), new THREE.MeshBasicMaterial({ color: 0xffffff }));\r\n    // light.add(bulb);\r\n\r\n    // scene.add(new THREE.PointLightHelper(light));\r\n\r\n    scene.add(new THREE.AmbientLight(0xffffff, 0.2));\r\n    // scene.add(new THREE.PointLight(0xffffff, 0.5));\r\n\r\n    // day, 1 yar\r\n\r\n    this.group = new THREE.Group();\r\n    this.txts = [];\r\n\r\n    // gui.add(txt.rotation, \"x\", 0, Math.PI * 2);\r\n    // gui.add(txt.rotation, \"y\", 0, Math.PI * 2);\r\n    // gui.add(txt.rotation, \"z\", 0, Math.PI * 2);\r\n\r\n    for (let i = 0; i < turns * objPerTurn; i++) {\r\n      let itemInData = data[i];\r\n      let color = \"#000\";\r\n      let pickedColor = \"\";\r\n      const perf = itemInData?.performance_criteria_value;\r\n      if (perf < 15) {\r\n        color = this.options.color1;\r\n        pickedColor = \"color1\";\r\n      } else if (perf < 30) {\r\n        color = this.options.color2;\r\n        pickedColor = \"color2\";\r\n      } else {\r\n        color = this.options.color3;\r\n        pickedColor = \"color3\";\r\n      }\r\n\r\n      let plane = new THREE.Mesh(\r\n        geom,\r\n\r\n        new THREE.MeshLambertMaterial({\r\n          transparent: true,\r\n          color: new THREE.Color(color),\r\n          opacity: 1,\r\n        })\r\n      );\r\n\r\n      \r\n      plane.pickedColor = pickedColor;\r\n\r\n      // position\r\n      plane.position.set(Math.cos(angleStep * i) * radius, heightStep * i, Math.sin(angleStep * i) * radius);\r\n\r\n\r\n      if (i % objPerTurn === 0) {\r\n        const string = itemInData.date.toLocaleString('default', { month: 'long' });\r\n        const geometry = new TextGeometry(string, {\r\n          font: font,\r\n          size: 1,\r\n          height: 1,\r\n          curveSegments: 12,\r\n          bevelEnabled: false,\r\n          bevelThickness: 10,\r\n          bevelSize: 1,\r\n          bevelOffset: 0,\r\n          bevelSegments: 5,\r\n        });\r\n        let txt = new THREE.Mesh(\r\n          geometry,\r\n          new THREE.MeshBasicMaterial({\r\n            color: new THREE.Color(this.options.txtColor),\r\n            opacity: 1,\r\n            transparent: true\r\n          }));\r\n        txt.userData[itemInData];\r\n        txt.position.copy(plane.position);\r\n        this.txts.push(txt);\r\n        // txt.position.set(20, 0, 0);\r\n        // txt.lookAt(this.app.camera.position);\r\n      }\r\n\r\n      // rotation\r\n      this.group.add(plane);\r\n      plane.rotation.y = -angleStep * i + Math.PI / 2;\r\n      // scene.add(plane);\r\n    }\r\n\r\n    gui.addColor(this.options, \"txtColor\").onChange((v) => {\r\n      this.txts.forEach(txt => { txt.material.color = new THREE.Color(v); });\r\n    });\r\n\r\n    this.txts.forEach(txt => {\r\n      txt.position.x = -5;\r\n      // txt.position.y = 60;\r\n       txt.position.z = 5\r\n      txt.rotation.x = Math.PI * 1.5;\r\n      this.app.scene.add(txt);\r\n    });\r\n    gsap.from(this.txts.map(t => t.material), { opacity: 0, duration: 3, delay: 4})\r\n    gsap.from(this.txts.map(t => t.position), { z: 100, duration: 1, delay: 3, stagger: {\r\n      amount: 1,\r\n      from: \"random\"\r\n    }})\r\n\r\n    // gsap.from(\r\n    //   [this.group.children.map(c => c.material)],\r\n    //   {duration: .3, opacity: 0, delay: 1, stagger: {\r\n    //   each: 0.001,\r\n    //   from: \"end\"\r\n    // }});\r\n\r\n    gsap.from([this.group.children.map((c) => c.position)], {\r\n      duration: 4,\r\n      x: \"random(-1000, 1000, 5)\",\r\n      y: \"random(-1000, 1000, 5)\",\r\n      z: \"random(-1000, 1000, 5)\",\r\n      stagger: {\r\n        amount: 2,\r\n        from: \"random\",\r\n      },\r\n    });\r\n\r\n    scene.add(this.group);\r\n  }\r\n\r\n  update(time) {\r\n    if (this.options.rotateBlock) {\r\n      this.group.children.forEach((child) => {\r\n        child.rotation.y += this.options.rotateBlock;\r\n      });\r\n    }\r\n\r\n    if (this.options.rotateCorck) {\r\n      this.group.rotation.y += this.options.rotateCorck;\r\n    }\r\n  }\r\n}\r\n\r\nconst allParticles = [];\r\nfunction particles(scene) {\r\n  var geometry = new THREE.BufferGeometry();\r\n  var vertices = [];\r\n  var materials = [],\r\n    parameters;\r\n  for (var i = 0; i < 550; i++) {\r\n    var x = Math.random() * 60 - 30;\r\n    var y = Math.random() * 60 - 30;\r\n    var z = Math.random() * 60 - 30;\r\n    vertices.push(x, y, z);\r\n  }\r\n  geometry.setAttribute(\"position\", new THREE.Float32BufferAttribute(vertices, 3));\r\n  parameters = [\r\n    [[0.3, 0.7, 0.9], texBlur, 0.2],\r\n    [[0.3, 0.3, 0.8], texBlur2, 0.4],\r\n  ];\r\n  for (var i = 0; i < parameters.length; i++) {\r\n    var color = parameters[i][0];\r\n    var sprite = parameters[i][1];\r\n    var size = parameters[i][2];\r\n    materials[i] = new THREE.PointsMaterial({ size: size, map: sprite, blending: THREE.AdditiveBlending, depthTest: false, transparent: true, opacity: 0.35 });\r\n    materials[i].color.setRGB(color[0], color[1], color[2]);\r\n    var particles = new THREE.Points(geometry, materials[i]);\r\n    particles.rotation.x = Math.random() * 6;\r\n    particles.rotation.y = Math.random() * 6;\r\n    particles.rotation.z = Math.random() * 6;\r\n\r\n    allParticles.push(particles);\r\n    scene.add(particles);\r\n\r\n    return particles;\r\n  }\r\n}\r\nconst gui = new dat.GUI();\r\n\r\nexport class App extends BasicThreeDemo {\r\n  constructor(inoptions) {\r\n    const options = {\r\n      container: document.getElementById(\"container\"),\r\n      length: 400,\r\n      width: 20,\r\n      roadWidth: 9,\r\n      islandWidth: 2,\r\n      nPairs: 100,\r\n      roadSections: 3,\r\n      color1: \"#288428\",\r\n      color2: \"#de8911\",\r\n      color3: \"#000\",\r\n      //color2: \"#c09e00\",\r\n      //color3: \"#eb2525\",\r\n      backgroundColor: \"#000\",\r\n      txtColor: \"#848484\",\r\n      distortion,\r\n      rotateCorck: 0.0004,\r\n      rotateBlock: 0.0004,\r\n      ...inoptions,\r\n    };\r\n    super(options.container);\r\n    this.options = options;\r\n\r\n    this.scene.add(this.camera);\r\n    // const helper = new THREE.CameraHelper(this.camera);\r\n    // this.scene.add(helper);\r\n\r\n    gui.add(this.camera.position, \"x\");\r\n    gui.add(this.camera.position, \"y\");\r\n    gui.add(this.camera.position, \"z\");\r\n\r\n    gui.addFolder(\"Rotation\");\r\n    gui.add(this.camera.rotation, \"x\", -Math.PI, Math.PI, 0.001);\r\n    gui.add(this.camera.rotation, \"y\", -Math.PI, Math.PI, 0.001);\r\n    gui.add(this.camera.rotation, \"z\", -Math.PI, Math.PI, 0.001);\r\n\r\n    gui.add(this.options, \"rotateCorck\", 0, 0.02, 0.0001);\r\n    gui.add(this.options, \"rotateBlock\", 0, 0.02, 0.0001);\r\n\r\n    gui.addColor(this.options, \"color1\").onChange((v) => {\r\n      this.spiral.group.children\r\n        .filter((v) => v.pickedColor == \"color1\")\r\n        .forEach((child) => {\r\n          child.material.color = new THREE.Color(v);\r\n        });\r\n    });\r\n    gui.addColor(this.options, \"color2\").onChange((v) => {\r\n      this.spiral.group.children\r\n        .filter((v) => v.pickedColor == \"color2\")\r\n        .forEach((child) => {\r\n          child.material.color = new THREE.Color(v);\r\n        });\r\n    });\r\n    gui.addColor(this.options, \"color3\").onChange((v) => {\r\n      this.spiral.group.children\r\n        .filter((v) => v.pickedColor == \"color3\")\r\n        .forEach((child) => {\r\n          child.material.color = new THREE.Color(v);\r\n        });\r\n    });\r\n\r\n    let colors1 = [\"#ff0000\", \"#00ff00\", \"#0000ff\"];\r\n    let colors2 = [\"#ff0000\", \"#00ff00\", \"#0000ff\"];\r\n\r\n    colors1 = [\"#fbc50b\", \"#de5d00\", \"#f9f5d6\"];\r\n    colors2 = [\"#eb6333\", \"#b1d5de\", \"#182c37\"];\r\n\r\n    colors1 = [\"#0CECDD\", \"#FFF338\", \"#FF67E7\", \"#C400FF\"];\r\n    colors2 = [\"#0E185F\", \"#2FA4FF\", \"#00FFDD\", \"#E8FFC2\"];\r\n\r\n    // this.road = new Road(this, options);\r\n    // this.leftLights = new CarLights(this, {...options, colors:colors1, color: 0x00ff2a, speed: 30});\r\n    // this.rightLights = new CarLights(this, {...options, colors:colors2, color: 0xff2a2a, speed: -30.0});\r\n    this.spiral = new Spiral(this, options);\r\n    const c = new THREE.Color(\"black\");\r\n    gui.addColor(this.options, \"backgroundColor\").onChange((v) => {\r\n      this.scene.background = new THREE.Color(v);\r\n    });\r\n\r\n    // this.controls = new OrbitControls(this.camera, this.renderer.domElement);\r\n    // this.controls.addEventListener(\"change\", () => {\r\n    //   console.log(\"Controls\", this.controls);\r\n    //   console.log(\"Camera\", this.camera);\r\n    //   console.log(\"Pos\", this.camera.position);\r\n    //   console.log(\"Rotation\", this.camera.rotation);\r\n\r\n    //   console.log(\"---\");\r\n    //   console.log(\"controls\", this.controls.position0, this.controls.target0, this.controls.zoomO)\r\n    // });\r\n    // this.controls.update();\r\n\r\n    // setTimeout(() => {\r\n    //   this.camera.position.set(0,120,150);\r\n    //   this.camera.rotateX(-Math.PI / 2);\r\n    //   // this.controls.update();\r\n    // }, 500);\r\n    \r\n    this.scene.background = c;\r\n\r\n    this.particles = particles(this.camera);\r\n  }\r\n\r\n  async init() {\r\n    await this.spiral.init();\r\n\r\n    this.camera.position.z = 0;\r\n    this.camera.position.y = data.length * 0.5 + 50;\r\n    // this.camera.position.x = 0;\r\n    this.camera.rotateX(-Math.PI / 2);\r\n\r\n    // animate camera\r\n    let duration = (data.length/(30*2));\r\n    duration = Math.max(duration, 20);\r\n    let anim = gsap.to(this.camera.position, { y: 50, duration, ease: \"power1.inOut\", yoyo: true, repeat: -1 });\r\n\r\n    // listen to mouse down\r\n    this.container.addEventListener(\"click\", (e) => {\r\n      if(e.button === 2) {       \r\n        e.preventDefault();\r\n      }\r\n    })\r\n    this.container.addEventListener(\"mousedown\", (e) => {\r\n      if(e.button === 2) {\r\n        anim.timeScale(-7);\r\n        e.preventDefault();\r\n      } else {\r\n        anim.timeScale(7);\r\n        \r\n      }\r\n    });\r\n\r\n    this.container.addEventListener(\"mouseup\", (e) => {\r\n      anim.timeScale(1);\r\n    });\r\n\r\n    this.composer = new EffectComposer(this.renderer);\r\n    this.composer.addPass(new RenderPass(this.scene, this.camera));\r\n\r\n    let bloomOptions = {\r\n      resolution: new THREE.Vector2(this.renderer.domElement.width, this.renderer.domElement.height),\r\n      strength: 0.6,\r\n      radius: 0.01,\r\n      threshold: 0.1,\r\n    };\r\n    const bloomPass = new UnrealBloomPass(Object.values(bloomOptions));\r\n\r\n    this.composer.addPass(bloomPass);\r\n\r\n    var effectCopy = new ShaderPass(CopyShader);\r\n    effectCopy.renderToScreen = true;\r\n    this.composer.addPass(effectCopy);\r\n\r\n    //this.composer.addPass(bloomPass);\r\n\r\n    // listen to mouse move\r\n    this.mouse = {\r\n      x: 0,\r\n      y: 0,\r\n    };\r\n    this.renderer.domElement.addEventListener(\"mousemove\", (e) => {\r\n      this.mouse.x = (e.clientX / this.renderer.domElement.width) * 2 - 1;\r\n      this.mouse.y = -(e.clientY / this.renderer.domElement.height) * 2 + 1;\r\n\r\n      gsap.to(this.camera.rotation, {\r\n        duration: 3,\r\n        x: -Math.PI / 2 - this.mouse.y / 5,\r\n        y: 0 + this.mouse.x / 5,\r\n      });\r\n    });\r\n\r\n    gui.updateDisplay();\r\n\r\n    this.tick();\r\n  }\r\n\r\n  onResize() {\r\n    this.composer.setSize(this.renderer.domElement.width, this.renderer.domElement.height);\r\n  }\r\n\r\n  render(delta) {\r\n    this.composer.render(delta);\r\n  }\r\n\r\n  update(delta) {\r\n    let time = this.clock.elapsedTime;\r\n    // this.scene.rotation.y += 0.01;\r\n    this.spiral.update(delta);\r\n    // this.controls.update();\r\n    // this.road.update(time);\r\n    // this.leftLights.update(time);\r\n    // this.rightLights.update(time);\r\n\r\n    this.particles.rotation.y += 0.001;\r\n    this.particles.rotation.z += 0.001;\r\n\r\n    gui.updateDisplay();\r\n  }\r\n}\r\n\r\nconst a = new App();\r\na.init();\r\n"],"names":["THREE.WebGLRenderer","THREE.PerspectiveCamera","THREE.Scene","THREE.Clock","THREE.Uniform","THREE.Vector2","THREE.TextureLoader","THREE.BoxBufferGeometry","THREE.PointLight","THREE.AmbientLight","THREE.Group","THREE.Mesh","THREE.MeshLambertMaterial","THREE.Color","THREE.MeshBasicMaterial","gsap","THREE.BufferGeometry","THREE.Float32BufferAttribute","THREE.PointsMaterial","THREE.AdditiveBlending","THREE.Points","dat.GUI","distortion"],"mappings":"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"}